import{b as N,_ as B,d as O,h as ee,u as te,N as re,r as u,A as C,S as oe,b2 as K,a7 as U,a as L,k as W,w as le,W as ie,j,n as k,f as d,D,X as ce,T as ue,bc as fe,c as se,C as V,Y as me,g as b,ab as I,B as J,R as q,a1 as pe,a6 as G,p as X,Q as de,o as ae,bd as ve,e as F,l as he,F as be,a4 as ye,q as ge,i as Se,G as T}from"./index-79c64a0f.js";import{u as _e,a as Q}from"./el-popper-21f2d10a.js";const E=4,we={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Ee=({move:f,size:i,bar:s})=>({[s.size]:i,transform:`translate${s.axis}(${f}%)`}),ne=Symbol("scrollbarContextKey"),Ce=N({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Te="Thumb",Ne=O({__name:"thumb",props:Ce,setup(f){const i=f,s=ee(ne),l=te("scrollbar");s||re(Te,"can not inject scrollbar context");const r=u(),m=u(),a=u({}),p=u(!1);let o=!1,h=!1,v=fe?document.onselectstart:null;const t=C(()=>we[i.vertical?"vertical":"horizontal"]),S=C(()=>Ee({size:i.size,move:i.move,bar:t.value})),y=C(()=>r.value[t.value.offset]**2/s.wrapElement[t.value.scrollSize]/i.ratio/m.value[t.value.offset]),_=n=>{var e;if(n.stopPropagation(),n.ctrlKey||[1,2].includes(n.button))return;(e=window.getSelection())==null||e.removeAllRanges(),x(n);const c=n.currentTarget;c&&(a.value[t.value.axis]=c[t.value.offset]-(n[t.value.client]-c.getBoundingClientRect()[t.value.direction]))},H=n=>{if(!m.value||!r.value||!s.wrapElement)return;const e=Math.abs(n.target.getBoundingClientRect()[t.value.direction]-n[t.value.client]),c=m.value[t.value.offset]/2,g=(e-c)*100*y.value/r.value[t.value.offset];s.wrapElement[t.value.scroll]=g*s.wrapElement[t.value.scrollSize]/100},x=n=>{n.stopImmediatePropagation(),o=!0,document.addEventListener("mousemove",M),document.addEventListener("mouseup",w),v=document.onselectstart,document.onselectstart=()=>!1},M=n=>{if(!r.value||!m.value||o===!1)return;const e=a.value[t.value.axis];if(!e)return;const c=(r.value.getBoundingClientRect()[t.value.direction]-n[t.value.client])*-1,g=m.value[t.value.offset]-e,z=(c-g)*100*y.value/r.value[t.value.offset];s.wrapElement[t.value.scroll]=z*s.wrapElement[t.value.scrollSize]/100},w=()=>{o=!1,a.value[t.value.axis]=0,document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",w),P(),h&&(p.value=!1)},A=()=>{h=!1,p.value=!!i.size},Y=()=>{h=!0,p.value=o};oe(()=>{P(),document.removeEventListener("mouseup",w)});const P=()=>{document.onselectstart!==v&&(document.onselectstart=v)};return K(U(s,"scrollbarElement"),"mousemove",A),K(U(s,"scrollbarElement"),"mouseleave",Y),(n,e)=>(L(),W(ue,{name:d(l).b("fade"),persisted:""},{default:le(()=>[ie(j("div",{ref_key:"instance",ref:r,class:k([d(l).e("bar"),d(l).is(d(t).key)]),onMousedown:H},[j("div",{ref_key:"thumb",ref:m,class:k(d(l).e("thumb")),style:D(d(S)),onMousedown:_},null,38)],34),[[ce,n.always||p.value]])]),_:1},8,["name"]))}});var Z=B(Ne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const Oe=N({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),ze=O({__name:"bar",props:Oe,setup(f,{expose:i}){const s=f,l=u(0),r=u(0);return i({handleScroll:a=>{if(a){const p=a.offsetHeight-E,o=a.offsetWidth-E;r.value=a.scrollTop*100/p*s.ratioY,l.value=a.scrollLeft*100/o*s.ratioX}}}),(a,p)=>(L(),se(me,null,[V(Z,{move:l.value,ratio:a.ratioX,size:a.width,always:a.always},null,8,["move","ratio","size","always"]),V(Z,{move:r.value,ratio:a.ratioY,size:a.height,vertical:"",always:a.always},null,8,["move","ratio","size","always"])],64))}});var Ie=B(ze,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const Le=N({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:b([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),ke={scroll:({scrollTop:f,scrollLeft:i})=>[f,i].every(I)},Be="ElScrollbar",Me=O({name:Be}),Pe=O({...Me,props:Le,emits:ke,setup(f,{expose:i,emit:s}){const l=f,r=te("scrollbar");let m,a;const p=u(),o=u(),h=u(),v=u("0"),t=u("0"),S=u(),y=u(1),_=u(1),H=C(()=>{const e={};return l.height&&(e.height=J(l.height)),l.maxHeight&&(e.maxHeight=J(l.maxHeight)),[l.wrapStyle,e]}),x=C(()=>[l.wrapClass,r.e("wrap"),{[r.em("wrap","hidden-default")]:!l.native}]),M=C(()=>[r.e("view"),l.viewClass]),w=()=>{var e;o.value&&((e=S.value)==null||e.handleScroll(o.value),s("scroll",{scrollTop:o.value.scrollTop,scrollLeft:o.value.scrollLeft}))};function A(e,c){ye(e)?o.value.scrollTo(e):I(e)&&I(c)&&o.value.scrollTo(e,c)}const Y=e=>{I(e)&&(o.value.scrollTop=e)},P=e=>{I(e)&&(o.value.scrollLeft=e)},n=()=>{if(!o.value)return;const e=o.value.offsetHeight-E,c=o.value.offsetWidth-E,g=e**2/o.value.scrollHeight,z=c**2/o.value.scrollWidth,$=Math.max(g,l.minSize),R=Math.max(z,l.minSize);y.value=g/(e-g)/($/(e-$)),_.value=z/(c-z)/(R/(c-R)),t.value=$+E<e?`${$}px`:"",v.value=R+E<c?`${R}px`:""};return q(()=>l.noresize,e=>{e?(m==null||m(),a==null||a()):({stop:m}=pe(h,n),a=K("resize",n))},{immediate:!0}),q(()=>[l.maxHeight,l.height],()=>{l.native||G(()=>{var e;n(),o.value&&((e=S.value)==null||e.handleScroll(o.value))})}),X(ne,de({scrollbarElement:p,wrapElement:o})),ae(()=>{l.native||G(()=>{n()})}),ve(()=>n()),i({wrapRef:o,update:n,scrollTo:A,setScrollTop:Y,setScrollLeft:P,handleScroll:w}),(e,c)=>(L(),se("div",{ref_key:"scrollbarRef",ref:p,class:k(d(r).b())},[j("div",{ref_key:"wrapRef",ref:o,class:k(d(x)),style:D(d(H)),onScroll:w},[(L(),W(he(e.tag),{ref_key:"resizeRef",ref:h,class:k(d(M)),style:D(e.viewStyle)},{default:le(()=>[F(e.$slots,"default")]),_:3},8,["class","style"]))],38),e.native?be("v-if",!0):(L(),W(Ie,{key:0,ref_key:"barRef",ref:S,height:t.value,width:v.value,always:e.always,"ratio-x":_.value,"ratio-y":y.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var $e=B(Pe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const Ve=ge($e),Re=O({inheritAttrs:!1});function He(f,i,s,l,r,m){return F(f.$slots,"default")}var xe=B(Re,[["render",He],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const Ae=O({name:"ElCollectionItem",inheritAttrs:!1});function Ye(f,i,s,l,r,m){return F(f.$slots,"default")}var Ke=B(Ae,[["render",Ye],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const We="data-el-collection-item",je=f=>{const i=`El${f}Collection`,s=`${i}Item`,l=Symbol(i),r=Symbol(s),m={...xe,name:i,setup(){const p=u(null),o=new Map;X(l,{itemMap:o,getItems:()=>{const v=d(p);if(!v)return[];const t=Array.from(v.querySelectorAll(`[${We}]`));return[...o.values()].sort((y,_)=>t.indexOf(y.ref)-t.indexOf(_.ref))},collectionRef:p})}},a={...Ke,name:s,setup(p,{attrs:o}){const h=u(null),v=ee(l,void 0);X(r,{collectionItemRef:h}),ae(()=>{const t=d(h);t&&v.itemMap.set(t,{ref:t,...o})}),oe(()=>{const t=d(h);v.itemMap.delete(t)})}};return{COLLECTION_INJECTION_KEY:l,COLLECTION_ITEM_INJECTION_KEY:r,ElCollection:m,ElCollectionItem:a}},Je=N({trigger:_e.trigger,effect:{...Q.effect,default:"light"},type:{type:b(String)},placement:{type:b(String),default:"bottom"},popperOptions:{type:b(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:b([Number,String]),default:0},maxHeight:{type:b([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:b(Object)},teleported:Q.teleported}),qe=N({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Se}}),Ge=N({onKeydown:{type:b(Function)}}),De=[T.down,T.pageDown,T.home],Xe=[T.up,T.pageUp,T.end],Qe=[...De,...Xe],{ElCollection:Ze,ElCollectionItem:et,COLLECTION_INJECTION_KEY:tt,COLLECTION_ITEM_INJECTION_KEY:ot}=je("Dropdown");export{ot as C,Ve as E,Qe as F,Xe as L,Ze as a,qe as b,je as c,Je as d,We as e,et as f,Ge as g,tt as h};
