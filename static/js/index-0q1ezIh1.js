import{m as et,n as ve,p as Ve,q as tt,l as ge,s as nt,v as ot}from"./@vueuse-Cv4Wji3s.js";import{_ as st}from"./index.vuevuetypescriptsetuptruelang-DMNuYt1h.js";import{b as ee,g as Re,h as Ne,i as We,j as Ce,k as at,l as lt,m as it,d as ct,n as rt,o as ut,a as dt,p as ft,q as mt,f as _t,r as Fe,s as ht,t as pt,u as vt}from"./element-plus-C1_tH_9n.js";import{u as oe,S as Z,i as Ee,a as Se,_ as O,r as Me,b as gt,g as bt,c as wt,d as q,e as Ue}from"./index-B8W-cxH9.js";import{v as je}from"./vue-i18n-BHOT87Ho.js";import{d as A,k as K,r as S,o as i,O as C,P as b,W as c,c as g,F as G,aa as J,u as s,U as B,V as I,a as f,aj as se,w as ne,l as we,R as H,T as P,I as kt,a2 as $t,a4 as Q,bm as Te,bk as Le,ag as ae,a1 as ce,Y as qe,S as yt,aD as xt,f as re,G as Ke,K as ie,e as Ge,Q as ke,X as $e,n as Be,j as Vt}from"./@vue-ROmf2CMa.js";import{I as ye}from"./@iconify-BpbYFE0g.js";import{b as ue,u as de}from"./vue-router-CP6FQFzT.js";import{l as Ct}from"./lodash-es-Blijzk1b.js";import{c as St}from"./path-to-regexp-Cdn6gXUT.js";import{d as Ye,s as Ie}from"./pinia-CNAM5qpy.js";import{_ as Tt}from"./caret-bottom-CVluut5o.js";import{p as Xe}from"./path-browserify-mKPuiFSD.js";import"./async-validator-DKvM95Vc.js";import"./dayjs-C6J0yRL_.js";import"./@intlify-CHY6szXs.js";import"./@element-plus-Ds9axIkZ.js";import"./@ctrl-r5W6hzzQ.js";import"./@sxzz-D9SI2xQl.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./crypto-js-CYDAzdEe.js";import"./axios-mH-cpkvd.js";import"./js-cookie-Cz0CWeBA.js";import"./nprogress-E-flP1tB.js";import"./mockjs-DOFpbtyb.js";import"./vite-plugin-mock-B2SH9_m9.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-DoOO_nKc.js";const Lt=A({__name:"index",setup(t){const e=oe(),{t:l}=je.useI18n(),u=K(()=>r.value.map(m=>({label:m.value==="large"?l("navbar.sizeLarge"):m.value==="small"?l("navbar.sizeSmall"):l("navbar.sizeNormal"),value:m.value}))),r=S([{label:"默认",value:"default"},{label:"大型",value:"large"},{label:"小型",value:"small"}]);function a(m){e.changeSize(m),ee.success(l("navbar.sizeMsg"))}return(m,n)=>{const d=Z,v=Re,h=Ne,_=We;return i(),C(_,{trigger:"click",onCommand:a},{dropdown:b(()=>[c(h,null,{default:b(()=>[(i(!0),g(G,null,J(s(u),y=>(i(),C(v,{key:y.value,disabled:s(e).size==y.value,command:y.value},{default:b(()=>[B(I(y.label),1)]),_:2},1032,["disabled","command"]))),128))]),_:1})]),default:b(()=>[f("div",null,[c(d,{"icon-class":"size"})])]),_:1})}}}),It={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Pt=f("path",{fill:"currentColor",d:"m795.904 750.72l124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704a352 352 0 0 0 0 704"},null,-1),Et=[Pt];function Mt(t,e){return i(),g("svg",It,[...Et])}const Bt=se({name:"ep-search",render:Mt});function X(t){return Ee.global.te("route."+t)?Ee.global.t("route."+t):t}const Ht={key:0,class:"search-list"},At=["onMouseenter"],Dt={class:"item-center"},zt={class:"search-item-title"},Ot={class:"footer"},Rt={class:"item-center"},Nt={class:"item-center"},Wt={class:"item-center"},Ft=A({__name:"NavSearch",setup(t){const e=Se(),l=S(!1),u=S(""),r=S(-1),a=S([]),m=ue(),n=et(h,250),d=o=>o&&o.icon&&o.icon.includes(":"),v=o=>o&&o.icon&&!d(o);function h(o){const p=o==null?void 0:o.trim().toLocaleLowerCase();if(!p){a.value=[];return}a.value=_(Ct(e.routes),p),r.value=s(a).length>0?0:-1}function _(o,p,$){const w=[];return o.forEach(x=>{var L;x&&x.meta&&JSON.stringify(x.meta)!=="{}"&&(Object.assign(x.meta,{icon:x.meta.icon?x.meta.icon:$?$.meta.icon:"",title:$?`${X($.meta.title)} > ${X(x.meta.title)}`:X(x.meta.title)}),!x.meta.hidden&&x.meta.title.toLocaleLowerCase().includes(p)&&((L=x.children)!=null&&L.length||w.push(x)),!x.meta.hideChildren&&x.children&&w.push(..._(x.children,p,x)))}),w}function y(){s(a).length===0||s(r)<0||(l.value=!1,m.push({name:s(a)[s(r)].name}),D())}function T(o){r.value=Number(o)}function E(){a.value.length&&(r.value--,r.value<0&&(r.value=a.value.length-1))}function F(){a.value.length&&(r.value++,r.value>a.value.length-1&&(r.value=0))}function D(){u.value="",a.value=[]}return ve("Enter",y),ve("ArrowUp",E),ve("ArrowDown",F),ne(u,()=>{n(u.value)}),(o,p)=>{const $=Bt,w=Ce,x=at,L=Z,z=lt,_e=it,he=ct;return i(),g(G,null,[c(w,{placement:"bottom",content:o.$t("navbar.search")},{default:b(()=>[f("div",{onClick:p[0]||(p[0]=R=>l.value=!0),class:"item-center"},[c($)])]),_:1},8,["content"]),c(he,{modelValue:s(l),"onUpdate:modelValue":p[2]||(p[2]=R=>we(l)?l.value=R:null),top:"10vh",title:"",class:"search-dialog","min-height":"200px",width:"750px","show-close":!1,closeOnPressEscape:"",onClosed:D},{footer:b(()=>[f("div",Ot,[c(_e,{size:10},{default:b(()=>[f("div",Rt,[c(L,{"icon-class":"confirm",class:"icon"}),f("span",null,I(o.$t("navbar.searchConfirm")),1)]),f("div",Nt,[c(L,{"icon-class":"up",class:"icon"}),c(L,{"icon-class":"down",class:"icon"}),f("span",null,I(o.$t("navbar.searchSwitch")),1)]),f("div",Wt,[c(L,{"icon-class":"esc",class:"icon"}),f("span",null,I(o.$t("navbar.searchClose")),1)])]),_:1})])]),default:b(()=>[c(x,{modelValue:s(u),"onUpdate:modelValue":p[1]||(p[1]=R=>we(u)?u.value=R:null),placeholder:o.$t("navbar.searchPlaceholder"),size:"large",clearable:""},{prefix:b(()=>[c($)]),_:1},8,["modelValue","placeholder"]),s(a).length>0?(i(),g("div",Ht,[(i(!0),g(G,null,J(s(a),(R,le)=>(i(),g("div",{class:H(["search-item item-center",{active:le===s(r)}]),key:R.name,onClick:y,onMouseenter:Pe=>T(le)},[f("div",Dt,[d(R.meta)?(i(),C(s(ye),{key:0,icon:R.meta.icon,style:{"font-size":"20px"}},null,8,["icon"])):P("",!0),v(R.meta)?(i(),C(L,{key:1,"icon-class":R.meta.icon},null,8,["icon-class"])):P("",!0),f("span",zt,I(R.meta.title),1)]),c(L,{"icon-class":"confirm"})],42,At))),128))])):(i(),C(z,{key:1,description:o.$t("navbar.searchEmpty"),"image-size":64},null,8,["description"]))]),_:1},8,["modelValue"])],64)}}}),Ut=O(Ft,[["__scopeId","data-v-89df27df"]]),jt={key:0,class:"text-[var(--el-disabled-text-color)]"},qt=["onClick"],Kt=A({__name:"index",setup(t){const e=de(),l=n=>{const{params:d}=e;return St(n)(d)},u=S([]);function r(){let n=e.matched.filter(v=>v.meta&&v.meta.title);const d=n[0];a(d)||(n=[{path:"/dashboard",meta:{title:"dashboard"}}].concat(n)),u.value=n.filter(v=>v.meta&&v.meta.title&&v.meta.breadcrumb!==!1)}function a(n){const d=n&&n.name;return d?d.toString().trim().toLocaleLowerCase()==="Dashboard".toLocaleLowerCase():!1}function m(n){const{redirect:d,path:v}=n;if(d){Me.push(d).catch(h=>{console.warn(h)});return}Me.push(l(v)).catch(h=>{console.warn(h)})}return ne(()=>e.path,n=>{n.startsWith("/redirect/")||r()}),kt(()=>{r()}),(n,d)=>{const v=rt,h=ut;return i(),C(h,{class:"h-[50px] flex items-center"},{default:b(()=>[c($t,{name:"breadcrumb"},{default:b(()=>[(i(!0),g(G,null,J(u.value,(_,y)=>(i(),C(v,{key:_.path},{default:b(()=>[_.redirect==="noredirect"||y===u.value.length-1?(i(),g("span",jt,I(s(X)(_.meta.title)),1)):(i(),g("a",{key:1,onClick:Q(T=>m(_),["prevent"])},I(s(X)(_.meta.title)),9,qt))]),_:2},1024))),128))]),_:1})]),_:1})}}}),Gt=O(Kt,[["__scopeId","data-v-b88176e2"]]),Yt=t=>(Te("data-v-3415bc80"),t=t(),Le(),t),Xt=Yt(()=>f("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"},null,-1)),Jt=[Xt],Qt=A({__name:"index",props:{isActive:{required:!0,type:Boolean,default:!1}},emits:["toggleClick"],setup(t,{emit:e}){const l=Ve(),u=e;function r(){u("toggleClick")}return(a,m)=>(i(),g("div",{class:H(["hamburger-container",{dark:s(l)}]),onClick:r},[(i(),g("svg",{class:H([{"is-active":t.isActive},"hamburger"]),viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",style:{color:"#fff !important"}},Jt,2))],2))}}),Zt=O(Qt,[["__scopeId","data-v-3415bc80"]]),fe=Ye("tagsView",()=>{const t=S([]),e=S([]);function l(o){var p,$;t.value.some(w=>w.path===o.path)||(o.meta&&o.meta.affix?t.value.unshift(Object.assign({},o,{title:((p=o.meta)==null?void 0:p.title)||"no-name"})):t.value.push(Object.assign({},o,{title:(($=o.meta)==null?void 0:$.title)||"no-name"})))}function u(o){var $;const p=o.name;e.value.includes(p)||($=o.meta)!=null&&$.keepAlive&&e.value.push(p)}function r(o){return new Promise(p=>{for(const[$,w]of t.value.entries())if(w.path===o.path){t.value.splice($,1);break}p([...t.value])})}function a(o){const p=o.name;return new Promise($=>{const w=e.value.indexOf(p);w>-1&&e.value.splice(w,1),$([...e.value])})}function m(o){return new Promise(p=>{t.value=t.value.filter($=>{var w;return((w=$.meta)==null?void 0:w.affix)||$.path===o.path}),p([...t.value])})}function n(o){const p=o.name;return new Promise($=>{const w=e.value.indexOf(p);w>-1?e.value=e.value.slice(w,w+1):e.value=[],$([...e.value])})}function d(o){for(let p of t.value)if(p.path===o.path){p=Object.assign(p,o);break}}function v(o){l(o),u(o)}function h(o){return new Promise(p=>{r(o),a(o),p({visitedViews:[...t.value],cachedViews:[...e.value]})})}function _(o){return new Promise(p=>{m(o),n(o),p({visitedViews:[...t.value],cachedViews:[...e.value]})})}function y(o){return new Promise(p=>{const $=t.value.findIndex(w=>w.path===o.path);$!==-1&&(t.value=t.value.filter((w,x)=>{if(x>=$||w.meta&&w.meta.affix)return!0;const L=e.value.indexOf(w.name);return L>-1&&e.value.splice(L,1),!1}),p({visitedViews:[...t.value]}))})}function T(o){return new Promise(p=>{const $=t.value.findIndex(w=>w.path===o.path);$!==-1&&(t.value=t.value.filter((w,x)=>{if(x<=$||w.meta&&w.meta.affix)return!0;const L=e.value.indexOf(w.name);return L>-1&&e.value.splice(L,1),!1}),p({visitedViews:[...t.value]}))})}function E(){return new Promise(o=>{const p=t.value.filter($=>{var w;return(w=$.meta)==null?void 0:w.affix});t.value=p,e.value=[],o({visitedViews:[...t.value],cachedViews:[...e.value]})})}function F(){return new Promise(o=>{const p=t.value.filter($=>{var w;return(w=$.meta)==null?void 0:w.affix});t.value=p,o([...t.value])})}function D(){return new Promise(o=>{e.value=[],o([...e.value])})}return{visitedViews:t,cachedViews:e,addVisitedView:l,addCachedView:u,delVisitedView:r,delCachedView:a,delOtherVisitedViews:m,delOtherCachedViews:n,updateVisitedView:d,addView:v,delView:h,delOtherViews:_,delLeftViews:y,delRightViews:T,delAllViews:E,delAllVisitedViews:F,delAllCachedViews:D}}),en={class:"app-container"},tn={class:"avatar-container"},nn=["src"],on={key:0,class:"user-name"},sn=["href"],an=["href"],ln=A({__name:"UserInfo",props:{hasTopHeader:{required:!1,type:Boolean,default:!1}},setup(t){const{t:e}=je.useI18n(),l=fe(),u=gt(),r=de(),a=ue();function m(){dt.confirm(e("logout.message"),e("logout.title"),{confirmButtonText:e("logout.confirmButtonText"),cancelButtonText:e("logout.cancelButtonText"),type:"warning"}).then(()=>{u.logout().then(()=>{l.delAllViews()}).then(()=>{a.push(`/login?redirect=${r.fullPath}`)})})}return(n,d)=>{const v=Tt,h=Re,_=ae("router-link"),y=Ne,T=We;return i(),g("div",en,[c(T,{trigger:"click"},{dropdown:b(()=>[c(y,null,{default:b(()=>[c(_,{to:"/"},{default:b(()=>[c(h,null,{default:b(()=>[B(I(n.$t("navbar.dashboard")),1)]),_:1})]),_:1}),f("a",{target:"_blank",href:s(bt)},[c(h,null,{default:b(()=>[B("Github")]),_:1})],8,sn),f("a",{target:"_blank",href:s(wt)},[c(h,null,{default:b(()=>[B(I(n.$t("navbar.document")),1)]),_:1})],8,an),c(h,{divided:"",onClick:m},{default:b(()=>[B(I(n.$t("navbar.logout")),1)]),_:1})]),_:1})]),default:b(()=>[f("div",tn,[f("img",{class:"user-avatar",src:s(u).avatar+"?imageView2/1/w/80/h/80"},null,8,nn),t.hasTopHeader?(i(),g("div",on,I(s(u).nickname),1)):P("",!0),c(v,{style:ce({color:t.hasTopHeader?"white":"black"})},null,8,["style"])])]),_:1})])}}}),Je=O(ln,[["__scopeId","data-v-6c90ef02"]]),cn={class:"navbar"},rn={class:"flex"},un={class:"flex"},dn={key:0,class:"setting-container"},fn={class:"setting-item item-center"},mn=A({__name:"Navbar",setup(t){const e=oe(),{device:l}=Ie(e);function u(){e.toggleSidebar(!0)}const{isFullscreen:r,toggle:a}=tt();return(m,n)=>{const d=Zt,v=Gt,h=Ut,_=Z,y=Ce,T=Lt,E=st;return i(),g("div",cn,[f("div",rn,[c(d,{"is-active":s(e).sidebar.opened,onToggleClick:u},null,8,["is-active"]),c(v)]),f("div",un,[s(l)!=="mobile"?(i(),g("div",dn,[f("div",fn,[c(h)]),c(y,{content:m.$t(s(r)?"navbar.exitFull":"navbar.entryFull"),effect:"dark",placement:"bottom"},{default:b(()=>[f("div",{class:"setting-item",onClick:n[0]||(n[0]=(...F)=>s(a)&&s(a)(...F))},[c(_,{"icon-class":s(r)?"exit-fullscreen":"fullscreen"},null,8,["icon-class"])])]),_:1},8,["content"]),c(y,{content:m.$t("navbar.layoutSize"),effect:"dark",placement:"bottom"},{default:b(()=>[c(T,{class:"setting-item"})]),_:1},8,["content"]),c(E,{class:"setting-item"})])):P("",!0),c(Je)])])}}}),He=O(mn,[["__scopeId","data-v-249f0e9e"]]),_n={class:"app-main"},hn=A({__name:"AppMain",setup(t){const e=fe();return(l,u)=>{const r=ae("router-view");return i(),g("section",_n,[c(r,null,{default:b(({Component:a,route:m})=>[c(qe,{name:"router-fade",mode:"out-in"},{default:b(()=>[(i(),C(xt,{include:s(e).cachedViews},[(i(),C(yt(a),{key:m.fullPath}))],1032,["include"]))]),_:2},1024)]),_:1})])}}}),Ae=O(hn,[["__scopeId","data-v-14e054ed"]]),pn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},vn=f("path",{fill:"currentColor",d:"M406.656 706.944L195.84 496.256a32 32 0 1 0-45.248 45.248l256 256l512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),gn=[vn];function bn(t,e){return i(),g("svg",pn,[...gn])}const wn=se({name:"ep-check",render:bn}),me=Ye("setting",()=>{const t=ge("tagsView",q.tagsView),e=S(q.showSettings),l=S(q.fixedHeader),u=S(q.sidebarLogo),r=S(q.topHeader),a=ge("themeColor",q.themeColor),m=ge("layout",q.layout);function n(d){const{key:v,value:h}=d;switch(v){case"showSettings":e.value=h;break;case"fixedHeader":l.value=h;break;case"tagsView":t.value=h;break;case"sidevarLogo":u.value=h;break;case"themeColor":a.value=h;break;case"layout":m.value=h;break}}return{showSettings:e,tagsView:t,fixedHeader:l,sidebarLogo:u,topHeader:r,themeColor:a,layout:m,changeSetting:n}});function te(){return{hexToRgb:r=>{let a="";if(!/^\#?[0-9A-Fa-f]{6}$/.test(r))return ee.warning("输入错误的hex"),"";r=r.replace("#",""),a=r.match(/../g);for(let n=0;n<3;n++)a[n]=parseInt(a[n],16);return a},rgbToHex:(r,a,m)=>{let n=/^\d{1,3}$/;if(!n.test(r)||!n.test(a)||!n.test(m))return ee.warning("输入错误的rgb颜色值"),"";let d=[r.toString(16),a.toString(16),m.toString(16)];for(let v=0;v<3;v++)d[v].length==1&&(d[v]=`0${d[v]}`);return`#${d.join("")}`},getDarkColor:(r,a)=>{if(!/^\#?[0-9A-Fa-f]{6}$/.test(r))return ee.warning("输入错误的hex颜色值"),"";let n=te().hexToRgb(r);for(let d=0;d<3;d++)n[d]=Math.floor(n[d]*(1-a));return te().rgbToHex(n[0],n[1],n[2])},getLightColor:(r,a)=>{if(!/^\#?[0-9A-Fa-f]{6}$/.test(r))return ee.warning("输入错误的hex颜色值"),"";let n=te().hexToRgb(r);for(let d=0;d<3;d++)n[d]=Math.floor((255-n[d])*a+n[d]);return te().rgbToHex(n[0],n[1],n[2])}}}const kn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},$n=f("path",{fill:"currentColor",d:"M512 704a192 192 0 1 0 0-384a192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512a256 256 0 0 1 0 512m0-704a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 768a32 32 0 0 1 32 32v64a32 32 0 1 1-64 0v-64a32 32 0 0 1 32-32M195.2 195.2a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 1 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248m543.104 543.104a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 0 1-45.248 45.248l-45.248-45.248a32 32 0 0 1 0-45.248M64 512a32 32 0 0 1 32-32h64a32 32 0 0 1 0 64H96a32 32 0 0 1-32-32m768 0a32 32 0 0 1 32-32h64a32 32 0 1 1 0 64h-64a32 32 0 0 1-32-32M195.2 828.8a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248L240.448 828.8a32 32 0 0 1-45.248 0m543.104-543.104a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248l-45.248 45.248a32 32 0 0 1-45.248 0"},null,-1),yn=[$n];function xn(t,e){return i(),g("svg",kn,[...yn])}const Vn=se({name:"ep-sunny",render:xn}),Cn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Sn=f("path",{fill:"currentColor",d:"M240.448 240.448a384 384 0 1 0 559.424 525.696a448 448 0 0 1-542.016-542.08a391 391 0 0 0-17.408 16.384m181.056 362.048a384 384 0 0 0 525.632 16.384A448 448 0 1 1 405.056 76.8a384 384 0 0 0 16.448 525.696"},null,-1),Tn=[Sn];function Ln(t,e){return i(),g("svg",Cn,[...Tn])}const In=se({name:"ep-moon",render:Ln}),j=t=>(Te("data-v-379826c9"),t=t(),Le(),t),Pn={class:"drawer-container"},En=j(()=>f("h3",{class:"drawer-title"},"项目配置",-1)),Mn={class:"drawer-item"},Bn=j(()=>f("span",{class:"text"},"开启 Tags-View",-1)),Hn={class:"drawer-item"},An=j(()=>f("span",{class:"text"},"固定 Header",-1)),Dn={class:"drawer-item"},zn=j(()=>f("span",{class:"text"},"侧边栏 Logo",-1)),On={class:"drawer-item"},Rn=j(()=>f("span",{class:"text"},"开启 Top-Header",-1)),Nn={class:"drawer-theme"},Wn=["onClick"],Fn={class:"layout"},Un=j(()=>f("div",null,null,-1)),jn=j(()=>f("div",null,null,-1)),qn=[Un,jn],Kn=j(()=>f("div",null,null,-1)),Gn=j(()=>f("div",null,null,-1)),Yn=[Kn,Gn],Xn=j(()=>f("div",null,null,-1)),Jn=j(()=>f("div",null,null,-1)),Qn=[Xn,Jn],Zn=A({__name:"index",setup(t){const e=me(),l=Ve(),u=()=>nt(l),{getLightColor:r,getDarkColor:a}=te();function m(h){e.changeSetting({key:"layout",value:h}),window.document.body.setAttribute("layout",e.layout)}const n=S(["#409EFF","#304156","#11a983","#13c2c2","#6959CD","#f5222d"]);function d(h){document.documentElement.style.setProperty("--el-color-primary",h),document.documentElement.style.setProperty("--el-color-primary-dark-2",`${a(h,.1)}`);for(let _=1;_<=9;_++)document.documentElement.style.setProperty(`--el-color-primary-light-${_}`,`${r(h,_/10)}`);e.changeSetting({key:"themeColor",value:h})}re(()=>{d(e.themeColor),window.document.body.setAttribute("layout",e.layout)});const v=h=>{const _=e.themeColor;return h===_?"#fff":"transparent"};return(h,_)=>{const y=ft,T=mt,E=wn,F=_t,D=Ce;return i(),g("div",Pn,[En,c(y,null,{default:b(()=>[B("主题")]),_:1}),f("div",{class:"drawer-switch",onClick:_[1]||(_[1]=Q(()=>{},["stop"]))},[c(T,{modelValue:s(l),"onUpdate:modelValue":_[0]||(_[0]=o=>we(l)?l.value=o:null),"inline-prompt":"","active-icon":s(In),"inactive-icon":s(Vn),"active-color":"var(--el-fill-color-dark)","inactive-color":"var(--el-color-primary)",onChange:u},null,8,["modelValue","active-icon","inactive-icon"])]),c(y,null,{default:b(()=>[B("界面设置")]),_:1}),f("div",Mn,[Bn,c(T,{modelValue:s(e).tagsView,"onUpdate:modelValue":_[2]||(_[2]=o=>s(e).tagsView=o)},null,8,["modelValue"])]),f("div",Hn,[An,c(T,{modelValue:s(e).fixedHeader,"onUpdate:modelValue":_[3]||(_[3]=o=>s(e).fixedHeader=o)},null,8,["modelValue"])]),f("div",Dn,[zn,c(T,{modelValue:s(e).sidebarLogo,"onUpdate:modelValue":_[4]||(_[4]=o=>s(e).sidebarLogo=o)},null,8,["modelValue"])]),f("div",On,[Rn,c(T,{modelValue:s(e).topHeader,"onUpdate:modelValue":_[5]||(_[5]=o=>s(e).topHeader=o)},null,8,["modelValue"])]),c(y,null,{default:b(()=>[B("主题颜色")]),_:1}),f("ul",Nn,[(i(!0),g(G,null,J(s(n),(o,p)=>(i(),g("li",{key:p,class:"drawer-theme-item",style:ce({background:o}),onClick:$=>d(o)},[c(F,{size:17,color:v(o),class:"check-icon"},{default:b(()=>[c(E)]),_:2},1032,["color"])],12,Wn))),128))]),c(y,null,{default:b(()=>[B("导航设置")]),_:1}),f("ul",Fn,[c(D,{content:"左侧模式",placement:"bottom"},{default:b(()=>[f("li",{class:H("layout-item layout-left "+(s(e).layout=="left"?"is-active":"")),onClick:_[6]||(_[6]=o=>m("left"))},qn,2)]),_:1}),c(D,{content:"顶部模式",placement:"bottom"},{default:b(()=>[f("li",{class:H("layout-item layout-top "+(s(e).layout=="top"?"is-active":"")),onClick:_[7]||(_[7]=o=>m("top"))},Yn,2)]),_:1}),c(D,{content:"混合模式",placement:"bottom"},{default:b(()=>[f("li",{class:H("layout-item layout-mix "+(s(e).layout=="mix"?"is-active":"")),onClick:_[8]||(_[8]=o=>m("mix"))},Qn,2)]),_:1})])])}}}),eo=O(Zn,[["__scopeId","data-v-379826c9"]]),to=A({__name:"ScrollPane",emits:["scroll"],setup(t,{expose:e,emit:l}){const u=S(4),{proxy:r}=Ge(),a=l,m=()=>{a("scroll")},n=fe(),d=K(()=>r==null?void 0:r.$refs.scrollContainer.$refs.wrapRef);re(()=>{d.value.addEventListener("scroll",m,!0)}),Ke(()=>{d.value.removeEventListener("scroll",m)});function v(_){const y=_.wheelDelta||-_.deltaY*40;d.value.scrollLeft=d.value.scrollLeft+y/4}function h(_){const T=r.$refs.scrollContainer.$el.offsetWidth,E=d.value;let F=null,D=null;if(n.visitedViews.length>0&&(F=n.visitedViews[0],D=n.visitedViews[n.visitedViews.length-1]),F===_)E.scrollLeft=0;else if(D===_)E.scrollLeft=E.scrollWidth-T;else{const o=document.getElementsByClassName("tags-item"),p=n.visitedViews.findIndex(z=>z===_);let $=null,w=null;for(const z in o)z!=="length"&&Object.hasOwnProperty.call(o,z)&&(o[z].dataset.path===n.visitedViews[p-1].path&&($=o[z]),o[z].dataset.path===n.visitedViews[p+1].path&&(w=o[z]));const x=w.offsetLeft+w.offsetWidth+u.value,L=$.offsetLeft-u.value;x>E.scrollLeft+T?E.scrollLeft=x-T:L<E.scrollLeft&&(E.scrollLeft=L)}}return e({moveToTarget:h}),(_,y)=>{const T=Fe;return i(),C(T,{ref:"scrollContainer",class:"scroll-container",vertical:!1,onWheel:Q(v,["prevent"])},{default:b(()=>[ie(_.$slots,"default",{},void 0,!0)]),_:3},512)}}}),no=O(to,[["__scopeId","data-v-69cdbe12"]]),oo={class:"tags-container"},so=["onClick"],ao=A({__name:"index",setup(t){const{proxy:e}=Ge(),l=ue(),u=de(),r=Se(),a=fe(),{visitedViews:m}=Ie(a),n=S({}),d=S(),v=S(0),h=S(0),_=S([]);ne(u,()=>{F(),D()},{immediate:!0});const y=S(!1);ne(y,k=>{k?document.body.addEventListener("click",pe):document.body.removeEventListener("click",pe)});function T(k,V="/"){let N=[];return k.forEach(U=>{if(U.meta&&U.meta.affix){const W=Xe.resolve(V,U.path);N.push({fullPath:W,path:W,name:U.name,meta:{...U.meta}})}if(U.children){const W=T(U.children,U.path);W.length>=1&&(N=N.concat(W))}}),N}function E(){const k=T(r.routes);_.value=k;for(const V of k)V.name&&a.addVisitedView(V)}function F(){u.name&&a.addView(u)}function D(){Be(()=>{for(const k of a.visitedViews)k.path===u.path&&(d.value.moveToTarget(k),k.fullPath!==u.fullPath&&a.updateVisitedView(u))})}function o(k){return k.path===u.path}function p(k){return k.meta&&k.meta.affix}function $(){try{return n.value.fullPath===a.visitedViews[1].fullPath||n.value.fullPath==="/index"}catch{return!1}}function w(){try{return n.value.fullPath===a.visitedViews[a.visitedViews.length-1].fullPath}catch{return!1}}function x(k){a.delCachedView(k);const{fullPath:V}=k;Be(()=>{l.replace({path:"/redirect"+V}).catch(N=>{console.warn(N)})})}function L(k,V){const N=k.slice(-1)[0];N&&N.fullPath?l.push(N.fullPath):V.name==="Dashboard"?l.replace({path:"/redirect"+V.fullPath}):l.push("/")}function z(k){a.delView(k).then(V=>{o(k)&&L(V.visitedViews,k)})}function _e(){a.delLeftViews(n.value).then(k=>{k.visitedViews.find(V=>V.fullPath===u.fullPath)||L(k.visitedViews)})}function he(){a.delRightViews(n.value).then(k=>{k.visitedViews.find(V=>V.fullPath===u.fullPath)||L(k.visitedViews)})}function R(){l.push(n.value),a.delOtherViews(n.value).then(()=>{D()})}function le(k){a.delAllViews().then(V=>{L(V.visitedViews,k)})}function Pe(k,V){const U=e==null?void 0:e.$el.getBoundingClientRect().left,M=(e==null?void 0:e.$el.offsetWidth)-105,Y=V.clientX-U+15;Y>M?v.value=M:v.value=Y,h.value=V.clientY,y.value=!0,n.value=k}function pe(){y.value=!1}function Ze(){pe()}return re(()=>{E()}),(k,V)=>{const N=Ue,U=ae("router-link"),W=Z;return i(),g("div",oo,[c(no,{ref_key:"scrollPaneRef",ref:d,onScroll:Ze},{default:b(()=>[(i(!0),g(G,null,J(s(m),M=>(i(),C(U,{key:M.path,class:H("tags-item "+(o(M)?"active":"")),"data-path":M.path,to:{path:M.path,query:M.query},onMouseup:Q(Y=>p(M)?"":z(M),["middle"]),onContextmenu:Q(Y=>Pe(M,Y),["prevent"])},{default:b(()=>{var Y;return[B(I(s(X)((Y=M.meta)==null?void 0:Y.title))+" ",1),p(M)?P("",!0):(i(),g("span",{key:0,class:"tags-item-close",onClick:Q(No=>z(M),["prevent","stop"])},[c(N,{style:{"font-size":"12px"}})],8,so))]}),_:2},1032,["class","data-path","to","onMouseup","onContextmenu"]))),128))]),_:1},512),ke(f("ul",{class:"tag-menu",style:ce({left:v.value+"px",top:h.value+"px"})},[f("li",{onClick:V[0]||(V[0]=M=>x(n.value))},[c(W,{"icon-class":"refresh"}),B(" "+I(k.$t("tagsView.refresh")),1)]),p(n.value)?P("",!0):(i(),g("li",{key:0,onClick:V[1]||(V[1]=M=>z(n.value))},[c(W,{"icon-class":"close"}),B(" "+I(k.$t("tagsView.close")),1)])),f("li",{onClick:R},[c(W,{"icon-class":"close_other"}),B(" "+I(k.$t("tagsView.closeOthers")),1)]),$()?P("",!0):(i(),g("li",{key:1,onClick:_e},[c(W,{"icon-class":"close_left"}),B(" "+I(k.$t("tagsView.closeLeft")),1)])),w()?P("",!0):(i(),g("li",{key:2,onClick:he},[c(W,{"icon-class":"close_right"}),B(" "+I(k.$t("tagsView.closeRight")),1)])),f("li",{onClick:V[2]||(V[2]=M=>le(n.value))},[c(W,{"icon-class":"close_all"}),B(" "+I(k.$t("tagsView.closeAll")),1)])],4),[[$e,y.value]])])}}}),De=O(ao,[["__scopeId","data-v-cb2d45c9"]]),lo={class:"top-header bgImage"},io={class:"header"},co={class:"left"},ro={class:"right"},uo=A({__name:"TopHeader",setup(t){const e=S("Vue3在线管理系统");return(l,u)=>(i(),g("div",lo,[f("div",io,[f("div",co,I(s(e)),1),f("div",ro,[c(Je,{hasTopHeader:""})])])]))}}),fo=O(uo,[["__scopeId","data-v-1010086c"]]);function Qe(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function mo(t,e){Qe(t,e)||(t.className+=" "+e)}function _o(t,e){if(Qe(t,e)){const l=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(l," ")}}function xe(t){return/^(https?:|http?:|mailto:|tel:)/.test(t)}const ho=["href"],po=A({__name:"Link",props:{to:{type:String,required:!0}},setup(t){const e=oe(),l=K(()=>e.sidebar),u=K(()=>e.device),r=t,a=ue();function m(){u.value==="mobile"&&l.value.opened==!0&&e.closeSideBar(!1),a.push(r.to).catch(n=>{console.error(n)})}return(n,d)=>s(xe)(t.to)?(i(),g("a",{key:0,href:t.to,target:"_blank",rel:"noopener"},[ie(n.$slots,"default")],8,ho)):(i(),g("div",{key:1,onClick:m},[ie(n.$slots,"default")]))}}),vo={key:0},go={key:2},bo=A({__name:"SidebarItem",props:{item:{type:Object,required:!0},basePath:{type:String,required:!0},isCollapse:{type:Boolean,default:!1}},setup(t){const e=t,l=S(),u=n=>n&&n.icon&&n.icon.includes(":"),r=n=>n&&n.icon&&!u(n);function a(n=[],d){const v=n.filter(h=>{var _;return(_=h.meta)!=null&&_.hidden?!1:(l.value=h,!0)});return v.length===1?!0:v.length===0?(l.value={...d,path:"",noShowingChildren:!0},!0):!1}function m(n){return xe(n)?n:xe(e.basePath)?e.basePath:Xe.resolve(e.basePath,n)}return(n,d)=>{const v=ht,h=ae("sidebar-item",!0),_=pt;return!t.item.meta||!t.item.meta.hidden?(i(),g("div",vo,[a(t.item.children,t.item)&&(!s(l).children||s(l).noShowingChildren)?(i(),g(G,{key:0},[s(l).meta?(i(),C(po,{key:0,to:m(s(l).path)},{default:b(()=>[c(v,{index:m(s(l).path),class:H({"menu-item-custom":t.isCollapse})},{title:b(()=>[B(I(s(X)(s(l).meta.title)),1)]),default:b(()=>[u(s(l).meta)?(i(),C(s(ye),{key:0,icon:s(l).meta.icon,class:"svg-icon"},null,8,["icon"])):P("",!0),r(s(l).meta)?(i(),C(Z,{key:1,"icon-class":s(l).meta.icon},null,8,["icon-class"])):P("",!0)]),_:1},8,["index","class"])]),_:1},8,["to"])):P("",!0)],64)):(i(),C(_,{key:1,index:m(t.item.path),teleported:""},{title:b(()=>[u(t.item.meta)?(i(),C(s(ye),{key:0,icon:t.item.meta.icon,class:"svg-icon"},null,8,["icon"])):P("",!0),r(t.item.meta)?(i(),C(Z,{key:1,"icon-class":t.item.meta.icon},null,8,["icon-class"])):P("",!0),t.item.meta&&t.item.meta.title?(i(),g("span",go,I(s(X)(t.item.meta.title)),1)):P("",!0)]),default:b(()=>[(i(!0),g(G,null,J(t.item.children,y=>(i(),C(h,{key:y.path,item:y,"base-path":m(y.path)},null,8,["item","base-path"]))),128))]),_:1},8,["index"]))])):P("",!0)}}}),wo=O(bo,[["__scopeId","data-v-7bd1b2a5"]]),ko={key:1,class:"sidebar-title"},$o={class:"sidebar-title"},ze="https://wpimg.wallstcn.com/69a1c46c-eb1c-4b46-8bd4-e9e686ef5251.png",yo=A({__name:"Logo",props:{collapse:{type:Boolean,required:!0}},setup(t){const e=me(),l=Ve();return(u,r)=>{const a=ae("router-link");return i(),g("div",{class:H(["sidebar-logo-container",{collapse:t.collapse,"dark-bg":s(l)}])},[c(qe,{name:"sidebarLogoFade"},{default:b(()=>[t.collapse?(i(),C(a,{key:"collapse",class:"sidebar-logo-link",to:"/"},{default:b(()=>[s(e).sidebarLogo?(i(),g("img",{key:0,src:ze,class:"sidebar-logo"})):(i(),g("h1",ko,I(s(q).title),1))]),_:1})):(i(),C(a,{key:"expand",class:"sidebar-logo-link",to:"/"},{default:b(()=>[s(e).sidebarLogo?(i(),g("img",{key:0,src:ze,class:"sidebar-logo"})):P("",!0),f("h1",$o,I(s(q).title),1)]),_:1}))]),_:1})],2)}}}),xo=O(yo,[["__scopeId","data-v-0b384a40"]]),Vo="var(--menuBg)",Co="var(--menuText)",So="var(--menuActiveText)",be={menuBg:Vo,menuText:Co,menuActiveText:So},Oe=A({__name:"index",setup(t){const e=me(),l=Se(),u=oe(),r=de(),{sidebarLogo:a}=Ie(e);return(m,n)=>{const d=vt,v=Fe;return i(),g("div",{class:H({"has-logo":s(a)})},[s(a)?(i(),C(xo,{key:0,collapse:!s(u).sidebar.opened},null,8,["collapse"])):P("",!0),c(v,null,{default:b(()=>[c(d,{"default-active":s(r).path,collapse:!s(u).sidebar.opened,"background-color":s(be).menuBg,"text-color":s(be).menuText,"active-text-color":s(be).menuActiveText,"unique-opened":!1,"collapse-transition":!1,mode:"vertical"},{default:b(()=>[(i(!0),g(G,null,J(s(l).routes,h=>(i(),C(wo,{key:h.path,item:h,"base-path":h.path,"is-collapse":!s(u).sidebar.opened},null,8,["item","base-path","is-collapse"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color"])]),_:1})],2)}}}),To={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Lo=f("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357 357 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a352 352 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357 357 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088l-24.512 11.968a294 294 0 0 0-34.816 20.096l-22.656 15.36l-116.224-25.088l-65.28 113.152l79.68 88.192l-1.92 27.136a293 293 0 0 0 0 40.192l1.92 27.136l-79.808 88.192l65.344 113.152l116.224-25.024l22.656 15.296a294 294 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152l24.448-11.904a288 288 0 0 0 34.752-20.096l22.592-15.296l116.288 25.024l65.28-113.152l-79.744-88.192l1.92-27.136a293 293 0 0 0 0-40.256l-1.92-27.136l79.808-88.128l-65.344-113.152l-116.288 24.96l-22.592-15.232a288 288 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384a192 192 0 0 1 0-384m0 64a128 128 0 1 0 0 256a128 128 0 0 0 0-256"},null,-1),Io=[Lo];function Po(t,e){return i(),g("svg",To,[...Io])}const Eo=se({name:"ep-setting",render:Po}),Mo=t=>(Te("data-v-cb8c5906"),t=t(),Le(),t),Bo=Mo(()=>f("div",{class:"right-panel-overlay"},null,-1)),Ho={class:"right-panel-container"},Ao=A({__name:"index",props:{buttonTop:{default:300,type:Number}},setup(t){const e=S(!1);ne(e,m=>{m&&l(),m?mo(document.body,"showRightPanel"):_o(document.body,"showRightPanel")});function l(){window.addEventListener("click",u,{passive:!0})}function u(m){m.target.closest(".right-panel-container")||(e.value=!1,window.removeEventListener("click",u))}const r=S();function a(){const m=document.querySelector("body");m.insertBefore(r.value,m.firstChild)}return re(()=>{a()}),Ke(()=>{r.value.remove()}),(m,n)=>{const d=Ue,v=Eo;return i(),g("div",{ref_key:"rightPanel",ref:r,class:H({show:e.value})},[Bo,f("div",Ho,[f("div",{class:"right-panel-btn",style:ce({top:t.buttonTop+"px"}),onClick:n[0]||(n[0]=h=>e.value=!e.value)},[ke(c(d,null,null,512),[[$e,e.value]]),ke(c(v,null,null,512),[[$e,!e.value]])],4),f("div",null,[ie(m.$slots,"default",{},void 0,!0)])])],2)}}}),Do=O(Ao,[["__scopeId","data-v-cb8c5906"]]),zo={key:1},Oo=992,Ro=A({__name:"index",setup(t){const{width:e}=ot(),l=oe(),u=me(),r=K(()=>u.fixedHeader),a=K(()=>u.tagsView),m=K(()=>u.showSettings),n=K(()=>u.topHeader),d=K(()=>({hideSidebar:!l.sidebar.opened,openSidebar:l.sidebar.opened,withoutAnimation:l.sidebar.withoutAnimation,mobile:l.device==="mobile"}));Vt(()=>{e.value<Oo?(l.toggleDevice("mobile"),l.closeSideBar(!0)):(l.toggleDevice("desktop"),e.value>=1200?l.openSideBar(!0):l.closeSideBar(!0))});function v(){l.closeSideBar(!1)}return(h,_)=>(i(),g("div",{class:H([d.value,"app-wrapper"])},[d.value.mobile&&d.value.openSidebar?(i(),g("div",{key:0,class:"drawer-bg",onClick:v})):P("",!0),n.value?P("",!0):(i(),g("div",zo,[c(Oe,{class:"sidebar-container"}),f("div",{class:H([{hasTagsView:a.value},"main-container"])},[f("div",{class:H({"fixed-header":r.value})},[c(s(He)),a.value?(i(),C(s(De),{key:0})):P("",!0)],2),c(s(Ae))],2)])),n.value?(i(),g("div",{key:2,class:H({hasTopHeader:n.value})},[c(Oe,{class:"sidebar-container",style:{top:"60px"}}),c(s(fo)),f("div",{class:H([{hasTagsView:a.value},"main-container"])},[f("div",{class:H({"fixed-top-header":r.value})},[c(s(He)),a.value?(i(),C(s(De),{key:0})):P("",!0)],2),c(s(Ae))],2)],2)):P("",!0),m.value?(i(),C(Do,{key:3},{default:b(()=>[c(s(eo))]),_:1})):P("",!0)],2))}}),ps=O(Ro,[["__scopeId","data-v-7bb2257a"]]);export{ps as default};
