import{l as me,m as Xe,n as ye,p as Qe,k as Te,q as Ze,s as et}from"./@vueuse-d1e6df39.js";import{_ as tt}from"./index.vuevuetypescriptsetuptruelang-02fcb8bb.js";import{c as nt,d as He,e as De,f as Oe,g as xe,h as st,i as ot,j as at,k as lt,l as it,m as ct,b as rt,n as ut,o as dt,p as Ne,q as _t,r as ft,s as mt}from"./element-plus-29f174c0.js";import{S as Q}from"./index-24a8e899.js";import{u as te,i as Le,a as ke,r as Pe,b as pt,g as ht,c as vt,d as K}from"./index-3358e511.js";import{u as Re}from"./vue-i18n-625cf0a6.js";import{d as M,k as F,r as T,o as a,P as C,Q as b,X as i,c as g,F as j,ab as J,u as s,V as E,W as L,a as u,w as ee,l as he,S as B,U as P,J as gt,a3 as bt,a5 as X,bh as $e,bf as Ve,ah as ne,a2 as ae,Z as We,T as wt,aA as yt,i as le,G as Ue,L as oe,f as qe,R as ve,Y as ge,n as Ie,j as xt}from"./@vue-7d0fc2b4.js";import{I as be}from"./@iconify-5142df58.js";import{u as ie,b as ce}from"./vue-router-98b533fa.js";import{k as kt}from"./lodash-es-d29772ce.js";import{_ as H}from"./plugin-vueexport-helper-c27b6911.js";import{c as $t}from"./path-to-regexp-36ea9d8d.js";import{d as Fe,s as Se}from"./pinia-4649f5ad.js";import{_ as Vt}from"./caret-bottom-d85b2834.js";import{p as je}from"./path-browserify-f26c75a1.js";import"./async-validator-dee29e8b.js";import"./dayjs-78f57161.js";import"./@intlify-999e9484.js";import"./source-map-7d7e1c08.js";import"./@element-plus-975622b8.js";import"./@ctrl-f8748455.js";import"./@sxzz-c75af06c.js";import"./escape-html-bdfaebd7.js";import"./normalize-wheel-es-ed76fb12.js";import"./axios-4a70c6fc.js";import"./js-cookie-edb2da2a.js";import"./nprogress-941844a1.js";import"./mockjs-3c670f17.js";import"./vite-plugin-mock-8bbc2346.js";import"./vue-demi-71ba0ef2.js";import"./vue-ff9293da.js";const St=M({__name:"index",setup(t){const e=te(),{t:o}=Re(),r=F(()=>_.value.map(f=>({label:f.value==="large"?o("navbar.sizeLarge"):f.value==="small"?o("navbar.sizeSmall"):o("navbar.sizeNormal"),value:f.value}))),_=T([{label:"默认",value:"default"},{label:"大型",value:"large"},{label:"小型",value:"small"}]);function c(f){e.changeSize(f),nt.success(o("navbar.sizeMsg"))}return(f,n)=>{const d=Q,m=He,h=De,k=Oe;return a(),C(k,{trigger:"click",onCommand:c},{dropdown:b(()=>[i(h,null,{default:b(()=>[(a(!0),g(j,null,J(s(r),v=>(a(),C(m,{key:v.value,disabled:s(e).size==v.value,command:v.value},{default:b(()=>[E(L(v.label),1)]),_:2},1032,["disabled","command"]))),128))]),_:1})]),default:b(()=>[u("div",null,[i(d,{"icon-class":"size"})])]),_:1})}}}),Ct={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Tt=u("path",{fill:"currentColor",d:"m795.904 750.72l124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704a352 352 0 0 0 0 704z"},null,-1),Lt=[Tt];function Pt(t,e){return a(),g("svg",Ct,Lt)}const It={name:"ep-search",render:Pt};function Y(t){return Le.global.te("route."+t)?Le.global.t("route."+t):t}const zt={key:0,class:"search-list"},Et=["onMouseenter"],Bt={class:"item-center"},Mt={class:"search-item-title"},At={class:"footer"},Ht={class:"item-center"},Dt={class:"item-center"},Ot={class:"item-center"},Nt=M({__name:"NavSearch",setup(t){const e=ke(),o=T(!1),r=T(""),_=T(-1),c=T([]),f=ie(),n=Xe(h,250),d=l=>l&&l.icon&&l.icon.includes(":"),m=l=>l&&l.icon&&!d(l);function h(l){const p=l==null?void 0:l.trim().toLocaleLowerCase();if(!p){c.value=[];return}c.value=k(kt(e.routes),p),_.value=s(c).length>0?0:-1}function k(l,p,x){const y=[];return l.forEach(V=>{var $;V&&V.meta&&JSON.stringify(V.meta)!=="{}"&&(Object.assign(V.meta,{icon:V.meta.icon?V.meta.icon:x?x.meta.icon:"",title:x?`${Y(x.meta.title)} > ${Y(V.meta.title)}`:Y(V.meta.title)}),!V.meta.hidden&&V.meta.title.toLocaleLowerCase().includes(p)&&(($=V.children)!=null&&$.length||y.push(V)),!V.meta.hideChildren&&V.children&&y.push(...k(V.children,p,V)))}),y}function v(){s(c).length===0||s(_)<0||(o.value=!1,f.push({name:s(c)[s(_)].name}),A())}function I(l){_.value=Number(l)}function W(){c.value.length&&(_.value--,_.value<0&&(_.value=c.value.length-1))}function q(){c.value.length&&(_.value++,_.value>c.value.length-1&&(_.value=0))}function A(){r.value="",c.value=[]}return me("Enter",v),me("ArrowUp",W),me("ArrowDown",q),ee(r,()=>{n(r.value)}),(l,p)=>{const x=It,y=xe,V=st,$=Q,Z=ot,de=at,_e=lt;return a(),g(j,null,[i(y,{placement:"bottom",content:l.$t("navbar.search")},{default:b(()=>[u("div",{onClick:p[0]||(p[0]=D=>o.value=!0),class:"item-center"},[i(x)])]),_:1},8,["content"]),i(_e,{modelValue:s(o),"onUpdate:modelValue":p[2]||(p[2]=D=>he(o)?o.value=D:null),top:"10vh",title:"",class:"search-dialog","min-height":"200px",width:"750px","show-close":!1,closeOnPressEscape:"",onClosed:A},{footer:b(()=>[u("div",At,[i(de,{size:10},{default:b(()=>[u("div",Ht,[i($,{"icon-class":"confirm",class:"icon"}),u("span",null,L(l.$t("navbar.searchConfirm")),1)]),u("div",Dt,[i($,{"icon-class":"up",class:"icon"}),i($,{"icon-class":"down",class:"icon"}),u("span",null,L(l.$t("navbar.searchSwitch")),1)]),u("div",Ot,[i($,{"icon-class":"esc",class:"icon"}),u("span",null,L(l.$t("navbar.searchClose")),1)])]),_:1})])]),default:b(()=>[i(V,{modelValue:s(r),"onUpdate:modelValue":p[1]||(p[1]=D=>he(r)?r.value=D:null),placeholder:l.$t("navbar.searchPlaceholder"),size:"large",clearable:""},{prefix:b(()=>[i(x)]),_:1},8,["modelValue","placeholder"]),s(c).length>0?(a(),g("div",zt,[(a(!0),g(j,null,J(s(c),(D,se)=>(a(),g("div",{class:B(["search-item item-center",{active:se===s(_)}]),key:D.name,onClick:v,onMouseenter:Ce=>I(se)},[u("div",Bt,[d(D.meta)?(a(),C(s(be),{key:0,icon:D.meta.icon,style:{"font-size":"20px"}},null,8,["icon"])):P("",!0),m(D.meta)?(a(),C($,{key:1,"icon-class":D.meta.icon},null,8,["icon-class"])):P("",!0),u("span",Mt,L(D.meta.title),1)]),i($,{"icon-class":"confirm"})],42,Et))),128))])):(a(),C(Z,{key:1,description:l.$t("navbar.searchEmpty"),"image-size":64},null,8,["description"]))]),_:1},8,["modelValue"])],64)}}});const Rt=H(Nt,[["__scopeId","data-v-89df27df"]]),Wt={key:0,class:"text-[var(--el-disabled-text-color)]"},Ut=["onClick"],qt=M({__name:"index",setup(t){const e=ce(),o=n=>{const{params:d}=e;return $t(n)(d)},r=T([]);function _(){let n=e.matched.filter(m=>m.meta&&m.meta.title);const d=n[0];c(d)||(n=[{path:"/dashboard",meta:{title:"dashboard"}}].concat(n)),r.value=n.filter(m=>m.meta&&m.meta.title&&m.meta.breadcrumb!==!1)}function c(n){const d=n&&n.name;return d?d.toString().trim().toLocaleLowerCase()==="Dashboard".toLocaleLowerCase():!1}function f(n){const{redirect:d,path:m}=n;if(d){Pe.push(d).catch(h=>{console.warn(h)});return}Pe.push(o(m)).catch(h=>{console.warn(h)})}return ee(()=>e.path,n=>{n.startsWith("/redirect/")||_()}),gt(()=>{_()}),(n,d)=>{const m=it,h=ct;return a(),C(h,{class:"h-[50px] flex items-center"},{default:b(()=>[i(bt,{name:"breadcrumb"},{default:b(()=>[(a(!0),g(j,null,J(r.value,(k,v)=>(a(),C(m,{key:k.path},{default:b(()=>[k.redirect==="noredirect"||v===r.value.length-1?(a(),g("span",Wt,L(s(Y)(k.meta.title)),1)):(a(),g("a",{key:1,onClick:X(I=>f(k),["prevent"])},L(s(Y)(k.meta.title)),9,Ut))]),_:2},1024))),128))]),_:1})]),_:1})}}});const Ft=H(qt,[["__scopeId","data-v-b88176e2"]]),jt=t=>($e("data-v-3415bc80"),t=t(),Ve(),t),Gt=jt(()=>u("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"},null,-1)),Kt=[Gt],Yt=M({__name:"index",props:{isActive:{required:!0,type:Boolean,default:!1}},emits:["toggleClick"],setup(t,{emit:e}){const o=ye();function r(){e("toggleClick")}return(_,c)=>(a(),g("div",{class:B(["hamburger-container",{dark:s(o)}]),onClick:r},[(a(),g("svg",{class:B([{"is-active":t.isActive},"hamburger"]),viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",style:{color:"#fff !important"}},Kt,2))],2))}});const Jt=H(Yt,[["__scopeId","data-v-3415bc80"]]),re=Fe("tagsView",()=>{const t=T([]),e=T([]);function o(l){var p,x;t.value.some(y=>y.path===l.path)||(l.meta&&l.meta.affix?t.value.unshift(Object.assign({},l,{title:((p=l.meta)==null?void 0:p.title)||"no-name"})):t.value.push(Object.assign({},l,{title:((x=l.meta)==null?void 0:x.title)||"no-name"})))}function r(l){var x;const p=l.name;e.value.includes(p)||(x=l.meta)!=null&&x.keepAlive&&e.value.push(p)}function _(l){return new Promise(p=>{for(const[x,y]of t.value.entries())if(y.path===l.path){t.value.splice(x,1);break}p([...t.value])})}function c(l){const p=l.name;return new Promise(x=>{const y=e.value.indexOf(p);y>-1&&e.value.splice(y,1),x([...e.value])})}function f(l){return new Promise(p=>{t.value=t.value.filter(x=>{var y;return((y=x.meta)==null?void 0:y.affix)||x.path===l.path}),p([...t.value])})}function n(l){const p=l.name;return new Promise(x=>{const y=e.value.indexOf(p);y>-1?e.value=e.value.slice(y,y+1):e.value=[],x([...e.value])})}function d(l){for(let p of t.value)if(p.path===l.path){p=Object.assign(p,l);break}}function m(l){o(l),r(l)}function h(l){return new Promise(p=>{_(l),c(l),p({visitedViews:[...t.value],cachedViews:[...e.value]})})}function k(l){return new Promise(p=>{f(l),n(l),p({visitedViews:[...t.value],cachedViews:[...e.value]})})}function v(l){return new Promise(p=>{const x=t.value.findIndex(y=>y.path===l.path);x!==-1&&(t.value=t.value.filter((y,V)=>{if(V>=x||y.meta&&y.meta.affix)return!0;const $=e.value.indexOf(y.name);return $>-1&&e.value.splice($,1),!1}),p({visitedViews:[...t.value]}))})}function I(l){return new Promise(p=>{const x=t.value.findIndex(y=>y.path===l.path);x!==-1&&(t.value=t.value.filter((y,V)=>{if(V<=x||y.meta&&y.meta.affix)return!0;const $=e.value.indexOf(y.name);return $>-1&&e.value.splice($,1),!1}),p({visitedViews:[...t.value]}))})}function W(){return new Promise(l=>{const p=t.value.filter(x=>{var y;return(y=x.meta)==null?void 0:y.affix});t.value=p,e.value=[],l({visitedViews:[...t.value],cachedViews:[...e.value]})})}function q(){return new Promise(l=>{const p=t.value.filter(x=>{var y;return(y=x.meta)==null?void 0:y.affix});t.value=p,l([...t.value])})}function A(){return new Promise(l=>{e.value=[],l([...e.value])})}return{visitedViews:t,cachedViews:e,addVisitedView:o,addCachedView:r,delVisitedView:_,delCachedView:c,delOtherVisitedViews:f,delOtherCachedViews:n,updateVisitedView:d,addView:m,delView:h,delOtherViews:k,delLeftViews:v,delRightViews:I,delAllViews:W,delAllVisitedViews:q,delAllCachedViews:A}}),Xt={class:"container"},Qt={class:"avatar-container"},Zt=["src"],en={key:0,class:"user-name"},tn=["href"],nn=["href"],sn=M({__name:"UserInfo",props:{hasTopHeader:{required:!1,type:Boolean,default:!1}},setup(t){const{t:e}=Re(),o=re(),r=pt(),_=ce(),c=ie();function f(){rt.confirm(e("logout.message"),e("logout.title"),{confirmButtonText:e("logout.confirmButtonText"),cancelButtonText:e("logout.cancelButtonText"),type:"warning"}).then(()=>{r.logout().then(()=>{o.delAllViews()}).then(()=>{c.push(`/login?redirect=${_.fullPath}`)})})}return(n,d)=>{const m=Vt,h=He,k=ne("router-link"),v=De,I=Oe;return a(),g("div",Xt,[i(I,{trigger:"click"},{dropdown:b(()=>[i(v,null,{default:b(()=>[i(k,{to:"/"},{default:b(()=>[i(h,null,{default:b(()=>[E(L(n.$t("navbar.dashboard")),1)]),_:1})]),_:1}),u("a",{target:"_blank",href:s(ht)},[i(h,null,{default:b(()=>[E("Github")]),_:1})],8,tn),u("a",{target:"_blank",href:s(vt)},[i(h,null,{default:b(()=>[E(L(n.$t("navbar.document")),1)]),_:1})],8,nn),i(h,{divided:"",onClick:f},{default:b(()=>[E(L(n.$t("navbar.logout")),1)]),_:1})]),_:1})]),default:b(()=>[u("div",Qt,[u("img",{class:"user-avatar",src:s(r).avatar+"?imageView2/1/w/80/h/80"},null,8,Zt),t.hasTopHeader?(a(),g("div",en,L(s(r).nickname),1)):P("",!0),i(m,{style:ae({color:t.hasTopHeader?"white":"black"})},null,8,["style"])])]),_:1})])}}});const Ge=H(sn,[["__scopeId","data-v-eb499f87"]]),on={class:"navbar"},an={class:"flex"},ln={class:"flex"},cn={key:0,class:"setting-container"},rn={class:"setting-item item-center"},un=M({__name:"Navbar",setup(t){const e=te(),{device:o}=Se(e);function r(){e.toggleSidebar(!0)}const{isFullscreen:_,toggle:c}=Qe();return(f,n)=>{const d=Jt,m=Ft,h=Rt,k=Q,v=xe,I=St,W=tt;return a(),g("div",on,[u("div",an,[i(d,{"is-active":s(e).sidebar.opened,onToggleClick:r},null,8,["is-active"]),i(m)]),u("div",ln,[s(o)!=="mobile"?(a(),g("div",cn,[u("div",rn,[i(h)]),i(v,{content:f.$t(s(_)?"navbar.exitFull":"navbar.entryFull"),effect:"dark",placement:"bottom"},{default:b(()=>[u("div",{class:"setting-item",onClick:n[0]||(n[0]=(...q)=>s(c)&&s(c)(...q))},[i(k,{"icon-class":s(_)?"exit-fullscreen":"fullscreen"},null,8,["icon-class"])])]),_:1},8,["content"]),i(v,{content:f.$t("navbar.layoutSize"),effect:"dark",placement:"bottom"},{default:b(()=>[i(I,{class:"setting-item"})]),_:1},8,["content"]),i(W,{class:"setting-item"})])):P("",!0),i(Ge)])])}}});const ze=H(un,[["__scopeId","data-v-249f0e9e"]]),dn={class:"app-main"},_n=M({__name:"AppMain",setup(t){const e=re();return(o,r)=>{const _=ne("router-view");return a(),g("section",dn,[i(_,null,{default:b(({Component:c,route:f})=>[i(We,{name:"router-fade",mode:"out-in"},{default:b(()=>[(a(),C(yt,{include:s(e).cachedViews},[(a(),C(wt(c),{key:f.fullPath}))],1032,["include"]))]),_:2},1024)]),_:1})])}}});const Ee=H(_n,[["__scopeId","data-v-14e054ed"]]),ue=Fe("setting",()=>{const t=Te("tagsView",K.tagsView),e=T(K.showSettings),o=T(K.fixedHeader),r=T(K.sidebarLogo),_=T(K.topHeader),c=Te("layout",K.layout);function f(n){const{key:d,value:m}=n;switch(d){case"showSettings":e.value=m;break;case"fixedHeader":o.value=m;break;case"tagsView":t.value=m;break;case"sidevarLogo":r.value=m;break;case"layout":c.value=m;break}}return{showSettings:e,tagsView:t,fixedHeader:o,sidebarLogo:r,topHeader:_,layout:c,changeSetting:f}}),fn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},mn=u("path",{fill:"currentColor",d:"M512 704a192 192 0 1 0 0-384a192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512a256 256 0 0 1 0 512zm0-704a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 768a32 32 0 0 1 32 32v64a32 32 0 1 1-64 0v-64a32 32 0 0 1 32-32zM195.2 195.2a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 1 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm543.104 543.104a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 0 1-45.248 45.248l-45.248-45.248a32 32 0 0 1 0-45.248zM64 512a32 32 0 0 1 32-32h64a32 32 0 0 1 0 64H96a32 32 0 0 1-32-32zm768 0a32 32 0 0 1 32-32h64a32 32 0 1 1 0 64h-64a32 32 0 0 1-32-32zM195.2 828.8a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248L240.448 828.8a32 32 0 0 1-45.248 0zm543.104-543.104a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248l-45.248 45.248a32 32 0 0 1-45.248 0z"},null,-1),pn=[mn];function hn(t,e){return a(),g("svg",fn,pn)}const vn={name:"ep-sunny",render:hn},gn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},bn=u("path",{fill:"currentColor",d:"M240.448 240.448a384 384 0 1 0 559.424 525.696a448 448 0 0 1-542.016-542.08a390.592 390.592 0 0 0-17.408 16.384zm181.056 362.048a384 384 0 0 0 525.632 16.384A448 448 0 1 1 405.056 76.8a384 384 0 0 0 16.448 525.696z"},null,-1),wn=[bn];function yn(t,e){return a(),g("svg",gn,wn)}const xn={name:"ep-moon",render:yn},U=t=>($e("data-v-b7fe07ef"),t=t(),Ve(),t),kn={class:"drawer-container"},$n=U(()=>u("h3",{class:"drawer-title"},"项目配置",-1)),Vn={class:"drawer-item"},Sn=U(()=>u("span",{class:"text"},"开启 Tags-View",-1)),Cn={class:"drawer-item"},Tn=U(()=>u("span",{class:"text"},"固定 Header",-1)),Ln={class:"drawer-item"},Pn=U(()=>u("span",{class:"text"},"侧边栏 Logo",-1)),In={class:"drawer-item"},zn=U(()=>u("span",{class:"text"},"开启 Top-Header",-1)),En={class:"drawer-theme"},Bn=["onClick"],Mn={class:"layout"},An=U(()=>u("div",null,null,-1)),Hn=U(()=>u("div",null,null,-1)),Dn=[An,Hn],On=U(()=>u("div",null,null,-1)),Nn=U(()=>u("div",null,null,-1)),Rn=[On,Nn],Wn=U(()=>u("div",null,null,-1)),Un=U(()=>u("div",null,null,-1)),qn=[Wn,Un],Fn=M({__name:"index",setup(t){const e=ue(),o=ye(),r=()=>Ze(o);function _(n){e.changeSetting({key:"layout",value:n}),window.document.body.setAttribute("layout",e.layout)}const c=T(["#409EFF","#304156","#11a983","#13c2c2","#6959CD","#f5222d"]);function f(n){document.documentElement.style.setProperty("--el-color-primary",n),e.changeSetting({key:"layout",value:n})}return le(()=>{window.document.body.setAttribute("layout",e.layout)}),(n,d)=>{const m=ut,h=dt,k=xe;return a(),g("div",kn,[$n,i(m,null,{default:b(()=>[E("主题")]),_:1}),u("div",{class:"drawer-switch",onClick:d[1]||(d[1]=X(()=>{},["stop"]))},[i(h,{modelValue:s(o),"onUpdate:modelValue":d[0]||(d[0]=v=>he(o)?o.value=v:null),"inline-prompt":"","active-icon":s(xn),"inactive-icon":s(vn),"active-color":"var(--el-fill-color-dark)","inactive-color":"var(--el-color-primary)",onChange:r},null,8,["modelValue","active-icon","inactive-icon"])]),i(m,null,{default:b(()=>[E("界面设置")]),_:1}),u("div",Vn,[Sn,i(h,{modelValue:s(e).tagsView,"onUpdate:modelValue":d[2]||(d[2]=v=>s(e).tagsView=v)},null,8,["modelValue"])]),u("div",Cn,[Tn,i(h,{modelValue:s(e).fixedHeader,"onUpdate:modelValue":d[3]||(d[3]=v=>s(e).fixedHeader=v)},null,8,["modelValue"])]),u("div",Ln,[Pn,i(h,{modelValue:s(e).sidebarLogo,"onUpdate:modelValue":d[4]||(d[4]=v=>s(e).sidebarLogo=v)},null,8,["modelValue"])]),u("div",In,[zn,i(h,{modelValue:s(e).topHeader,"onUpdate:modelValue":d[5]||(d[5]=v=>s(e).topHeader=v)},null,8,["modelValue"])]),i(m,null,{default:b(()=>[E("主题颜色")]),_:1}),u("ul",En,[(a(!0),g(j,null,J(s(c),(v,I)=>(a(),g("li",{key:I,class:"drawer-theme-item",style:ae({background:v}),onClick:W=>f(v)},null,12,Bn))),128))]),i(m,null,{default:b(()=>[E("导航设置")]),_:1}),u("ul",Mn,[i(k,{content:"左侧模式",placement:"bottom"},{default:b(()=>[u("li",{class:B("layout-item layout-left "+(s(e).layout=="left"?"is-active":"")),onClick:d[6]||(d[6]=v=>_("left"))},Dn,2)]),_:1}),i(k,{content:"顶部模式",placement:"bottom"},{default:b(()=>[u("li",{class:B("layout-item layout-top "+(s(e).layout=="top"?"is-active":"")),onClick:d[7]||(d[7]=v=>_("top"))},Rn,2)]),_:1}),i(k,{content:"混合模式",placement:"bottom"},{default:b(()=>[u("li",{class:B("layout-item layout-mix "+(s(e).layout=="mix"?"is-active":"")),onClick:d[8]||(d[8]=v=>_("mix"))},qn,2)]),_:1})])])}}});const jn=H(Fn,[["__scopeId","data-v-b7fe07ef"]]),Gn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Kn=u("path",{fill:"currentColor",d:"M764.288 214.592L512 466.88L259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512L214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),Yn=[Kn];function Jn(t,e){return a(),g("svg",Gn,Yn)}const Ke={name:"ep-close",render:Jn},Xn=M({__name:"ScrollPane",emits:["scroll"],setup(t,{expose:e,emit:o}){const r=T(4),{proxy:_}=qe(),c=()=>{o("scroll")},f=re(),n=F(()=>_==null?void 0:_.$refs.scrollContainer.$refs.wrapRef);le(()=>{n.value.addEventListener("scroll",c,!0)}),Ue(()=>{n.value.removeEventListener("scroll",c)});function d(h){const k=h.wheelDelta||-h.deltaY*40;n.value.scrollLeft=n.value.scrollLeft+k/4}function m(h){const v=_.$refs.scrollContainer.$el.offsetWidth,I=n.value;let W=null,q=null;if(f.visitedViews.length>0&&(W=f.visitedViews[0],q=f.visitedViews[f.visitedViews.length-1]),W===h)I.scrollLeft=0;else if(q===h)I.scrollLeft=I.scrollWidth-v;else{const A=document.getElementsByClassName("tags-item"),l=f.visitedViews.findIndex($=>$===h);let p=null,x=null;for(const $ in A)$!=="length"&&Object.hasOwnProperty.call(A,$)&&(A[$].dataset.path===f.visitedViews[l-1].path&&(p=A[$]),A[$].dataset.path===f.visitedViews[l+1].path&&(x=A[$]));const y=x.offsetLeft+x.offsetWidth+r.value,V=p.offsetLeft-r.value;y>I.scrollLeft+v?I.scrollLeft=y-v:V<I.scrollLeft&&(I.scrollLeft=V)}}return e({moveToTarget:m}),(h,k)=>{const v=Ne;return a(),C(v,{ref:"scrollContainer",class:"scroll-container",vertical:!1,onWheel:X(d,["prevent"])},{default:b(()=>[oe(h.$slots,"default",{},void 0,!0)]),_:3},8,["onWheel"])}}});const Qn=H(Xn,[["__scopeId","data-v-69cdbe12"]]),Zn={class:"tags-container"},es=["onClick"],ts=M({__name:"index",setup(t){const{proxy:e}=qe(),o=ie(),r=ce(),_=ke(),c=re(),{visitedViews:f}=Se(c),n=T({}),d=T(),m=T(0),h=T(0),k=T([]);ee(r,()=>{q(),A()},{immediate:!0});const v=T(!1);ee(v,w=>{w?document.body.addEventListener("click",fe):document.body.removeEventListener("click",fe)});function I(w,S="/"){let O=[];return w.forEach(R=>{if(R.meta&&R.meta.affix){const N=je.resolve(S,R.path);O.push({fullPath:N,path:N,name:R.name,meta:{...R.meta}})}if(R.children){const N=I(R.children,R.path);N.length>=1&&(O=O.concat(N))}}),O}function W(){const w=I(_.routes);k.value=w;for(const S of w)S.name&&c.addVisitedView(S)}function q(){r.name&&c.addView(r)}function A(){Ie(()=>{for(const w of c.visitedViews)w.path===r.path&&(d.value.moveToTarget(w),w.fullPath!==r.fullPath&&c.updateVisitedView(r))})}function l(w){return w.path===r.path}function p(w){return w.meta&&w.meta.affix}function x(){try{return n.value.fullPath===c.visitedViews[1].fullPath||n.value.fullPath==="/index"}catch{return!1}}function y(){try{return n.value.fullPath===c.visitedViews[c.visitedViews.length-1].fullPath}catch{return!1}}function V(w){c.delCachedView(w);const{fullPath:S}=w;Ie(()=>{o.replace({path:"/redirect"+S}).catch(O=>{console.warn(O)})})}function $(w,S){const O=w.slice(-1)[0];O&&O.fullPath?o.push(O.fullPath):S.name==="Dashboard"?o.replace({path:"/redirect"+S.fullPath}):o.push("/")}function Z(w){c.delView(w).then(S=>{l(w)&&$(S.visitedViews,w)})}function de(){c.delLeftViews(n.value).then(w=>{w.visitedViews.find(S=>S.fullPath===r.fullPath)||$(w.visitedViews)})}function _e(){c.delRightViews(n.value).then(w=>{w.visitedViews.find(S=>S.fullPath===r.fullPath)||$(w.visitedViews)})}function D(){o.push(n.value),c.delOtherViews(n.value).then(()=>{A()})}function se(w){c.delAllViews().then(S=>{$(S.visitedViews,w)})}function Ce(w,S){const R=e==null?void 0:e.$el.getBoundingClientRect().left,z=(e==null?void 0:e.$el.offsetWidth)-105,G=S.clientX-R+15;G>z?m.value=z:m.value=G,h.value=S.clientY,v.value=!0,n.value=w}function fe(){v.value=!1}function Je(){fe()}return le(()=>{W()}),(w,S)=>{const O=Ke,R=ne("router-link"),N=Q;return a(),g("div",Zn,[i(Qn,{ref_key:"scrollPaneRef",ref:d,onScroll:Je},{default:b(()=>[(a(!0),g(j,null,J(s(f),z=>(a(),C(R,{key:z.path,class:B("tags-item "+(l(z)?"active":"")),"data-path":z.path,to:{path:z.path,query:z.query},onMouseup:X(G=>p(z)?"":Z(z),["middle"]),onContextmenu:X(G=>Ce(z,G),["prevent"])},{default:b(()=>{var G;return[E(L(s(Y)((G=z.meta)==null?void 0:G.title))+" ",1),p(z)?P("",!0):(a(),g("span",{key:0,class:"tags-item-close",onClick:X(As=>Z(z),["prevent","stop"])},[i(O,{style:{"font-size":"12px"}})],8,es))]}),_:2},1032,["class","data-path","to","onMouseup","onContextmenu"]))),128))]),_:1},512),ve(u("ul",{class:"tag-menu",style:ae({left:m.value+"px",top:h.value+"px"})},[u("li",{onClick:S[0]||(S[0]=z=>V(n.value))},[i(N,{"icon-class":"refresh"}),E(L(w.$t("tagsView.refresh")),1)]),p(n.value)?P("",!0):(a(),g("li",{key:0,onClick:S[1]||(S[1]=z=>Z(n.value))},[i(N,{"icon-class":"close"}),E(L(w.$t("tagsView.close")),1)])),u("li",{onClick:D},[i(N,{"icon-class":"close_other"}),E(L(w.$t("tagsView.closeOthers")),1)]),x()?P("",!0):(a(),g("li",{key:1,onClick:de},[i(N,{"icon-class":"close_left"}),E(L(w.$t("tagsView.closeLeft")),1)])),y()?P("",!0):(a(),g("li",{key:2,onClick:_e},[i(N,{"icon-class":"close_right"}),E(L(w.$t("tagsView.closeRight")),1)])),u("li",{onClick:S[2]||(S[2]=z=>se(n.value))},[i(N,{"icon-class":"close_all"}),E(L(w.$t("tagsView.closeAll")),1)])],4),[[ge,v.value]])])}}});const Be=H(ts,[["__scopeId","data-v-cb2d45c9"]]),ns={class:"top-header bgImage"},ss={class:"header"},os={class:"left"},as={class:"right"},ls=M({__name:"TopHeader",setup(t){const e=T("Vue3在线管理系统");return(o,r)=>(a(),g("div",ns,[u("div",ss,[u("div",os,L(s(e)),1),u("div",as,[i(Ge,{hasTopHeader:""})])])]))}});const is=H(ls,[["__scopeId","data-v-1010086c"]]);function Ye(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function cs(t,e){Ye(t,e)||(t.className+=" "+e)}function rs(t,e){if(Ye(t,e)){const o=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(o," ")}}function we(t){return/^(https?:|http?:|mailto:|tel:)/.test(t)}const us=["href"],ds=M({__name:"Link",props:{to:{type:String,required:!0}},setup(t){const e=t,o=te(),r=F(()=>o.sidebar),_=F(()=>o.device),c=ie();function f(){_.value==="mobile"&&r.value.opened==!0&&o.closeSideBar(!1),c.push(e.to).catch(n=>{console.error(n)})}return(n,d)=>s(we)(t.to)?(a(),g("a",{key:0,href:t.to,target:"_blank",rel:"noopener"},[oe(n.$slots,"default")],8,us)):(a(),g("div",{key:1,onClick:f},[oe(n.$slots,"default")]))}}),_s={key:0},fs={key:2},ms=M({__name:"SidebarItem",props:{item:{type:Object,required:!0},basePath:{type:String,required:!0},isCollapse:{type:Boolean,default:!1}},setup(t){const e=t,o=T(),r=n=>n&&n.icon&&n.icon.includes(":"),_=n=>n&&n.icon&&!r(n);function c(n=[],d){const m=n.filter(h=>{var k;return(k=h.meta)!=null&&k.hidden?!1:(o.value=h,!0)});return m.length===1?!0:m.length===0?(o.value={...d,path:"",noShowingChildren:!0},!0):!1}function f(n){return we(n)?n:we(e.basePath)?e.basePath:je.resolve(e.basePath,n)}return(n,d)=>{const m=_t,h=ne("sidebar-item",!0),k=ft;return!t.item.meta||!t.item.meta.hidden?(a(),g("div",_s,[c(t.item.children,t.item)&&(!s(o).children||s(o).noShowingChildren)?(a(),g(j,{key:0},[s(o).meta?(a(),C(ds,{key:0,to:f(s(o).path)},{default:b(()=>[i(m,{index:f(s(o).path),class:B({"menu-item-custom":t.isCollapse})},{title:b(()=>[E(L(s(Y)(s(o).meta.title)),1)]),default:b(()=>[r(s(o).meta)?(a(),C(s(be),{key:0,icon:s(o).meta.icon,class:"svg-icon"},null,8,["icon"])):P("",!0),_(s(o).meta)?(a(),C(Q,{key:1,"icon-class":s(o).meta.icon},null,8,["icon-class"])):P("",!0)]),_:1},8,["index","class"])]),_:1},8,["to"])):P("",!0)],64)):(a(),C(k,{key:1,index:f(t.item.path),teleported:""},{title:b(()=>[r(t.item.meta)?(a(),C(s(be),{key:0,icon:t.item.meta.icon,class:"svg-icon"},null,8,["icon"])):P("",!0),_(t.item.meta)?(a(),C(Q,{key:1,"icon-class":t.item.meta.icon},null,8,["icon-class"])):P("",!0),t.item.meta&&t.item.meta.title?(a(),g("span",fs,L(s(Y)(t.item.meta.title)),1)):P("",!0)]),default:b(()=>[(a(!0),g(j,null,J(t.item.children,v=>(a(),C(h,{key:v.path,item:v,"base-path":f(v.path)},null,8,["item","base-path"]))),128))]),_:1},8,["index"]))])):P("",!0)}}});const ps=H(ms,[["__scopeId","data-v-7bd1b2a5"]]),hs={key:1,class:"sidebar-title"},vs={class:"sidebar-title"},Me="https://wpimg.wallstcn.com/69a1c46c-eb1c-4b46-8bd4-e9e686ef5251.png",gs=M({__name:"Logo",props:{collapse:{type:Boolean,required:!0}},setup(t){const e=ue(),o=ye();return(r,_)=>{const c=ne("router-link");return a(),g("div",{class:B(["sidebar-logo-container",{collapse:t.collapse,"dark-bg":s(o)}])},[i(We,{name:"sidebarLogoFade"},{default:b(()=>[t.collapse?(a(),C(c,{key:"collapse",class:"sidebar-logo-link",to:"/"},{default:b(()=>[s(e).sidebarLogo?(a(),g("img",{key:0,src:Me,class:"sidebar-logo"})):(a(),g("h1",hs,L(s(K).title),1))]),_:1})):(a(),C(c,{key:"expand",class:"sidebar-logo-link",to:"/"},{default:b(()=>[s(e).sidebarLogo?(a(),g("img",{key:0,src:Me,class:"sidebar-logo"})):P("",!0),u("h1",vs,L(s(K).title),1)]),_:1}))]),_:1})],2)}}});const bs=H(gs,[["__scopeId","data-v-0b384a40"]]),ws="var(--menuBg)",ys="var(--menuText)",xs="var(--menuActiveText)",pe={menuBg:ws,menuText:ys,menuActiveText:xs},Ae=M({__name:"index",setup(t){const e=ue(),o=ke(),r=te(),_=ce(),{sidebarLogo:c}=Se(e);return(f,n)=>{const d=mt,m=Ne;return a(),g("div",{class:B({"has-logo":s(c)})},[s(c)?(a(),C(bs,{key:0,collapse:!s(r).sidebar.opened},null,8,["collapse"])):P("",!0),i(m,null,{default:b(()=>[i(d,{"default-active":s(_).path,collapse:!s(r).sidebar.opened,"background-color":s(pe).menuBg,"text-color":s(pe).menuText,"active-text-color":s(pe).menuActiveText,"unique-opened":!1,"collapse-transition":!1,mode:"vertical"},{default:b(()=>[(a(!0),g(j,null,J(s(o).routes,h=>(a(),C(ps,{key:h.path,item:h,"base-path":h.path,"is-collapse":!s(r).sidebar.opened},null,8,["item","base-path","is-collapse"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color"])]),_:1})],2)}}}),ks={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},$s=u("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088l-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36l-116.224-25.088l-65.28 113.152l79.68 88.192l-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136l-79.808 88.192l65.344 113.152l116.224-25.024l22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152l24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296l116.288 25.024l65.28-113.152l-79.744-88.192l1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136l79.808-88.128l-65.344-113.152l-116.288 24.96l-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384a192 192 0 0 1 0-384zm0 64a128 128 0 1 0 0 256a128 128 0 0 0 0-256z"},null,-1),Vs=[$s];function Ss(t,e){return a(),g("svg",ks,Vs)}const Cs={name:"ep-setting",render:Ss},Ts=t=>($e("data-v-cb8c5906"),t=t(),Ve(),t),Ls=Ts(()=>u("div",{class:"right-panel-overlay"},null,-1)),Ps={class:"right-panel-container"},Is=M({__name:"index",props:{buttonTop:{default:300,type:Number}},setup(t){const e=T(!1);ee(e,f=>{f&&o(),f?cs(document.body,"showRightPanel"):rs(document.body,"showRightPanel")});function o(){window.addEventListener("click",r,{passive:!0})}function r(f){f.target.closest(".right-panel-container")||(e.value=!1,window.removeEventListener("click",r))}const _=T();function c(){const f=document.querySelector("body");f.insertBefore(_.value,f.firstChild)}return le(()=>{c()}),Ue(()=>{_.value.remove()}),(f,n)=>{const d=Ke,m=Cs;return a(),g("div",{ref_key:"rightPanel",ref:_,class:B({show:e.value})},[Ls,u("div",Ps,[u("div",{class:"right-panel-btn",style:ae({top:t.buttonTop+"px"}),onClick:n[0]||(n[0]=h=>e.value=!e.value)},[ve(i(d,null,null,512),[[ge,e.value]]),ve(i(m,null,null,512),[[ge,!e.value]])],4),u("div",null,[oe(f.$slots,"default",{},void 0,!0)])])],2)}}});const zs=H(Is,[["__scopeId","data-v-cb8c5906"]]),Es={key:1},Bs=992,Ms=M({__name:"index",setup(t){const{width:e}=et(),o=te(),r=ue(),_=F(()=>r.fixedHeader),c=F(()=>r.tagsView),f=F(()=>r.showSettings),n=F(()=>r.topHeader),d=F(()=>({hideSidebar:!o.sidebar.opened,openSidebar:o.sidebar.opened,withoutAnimation:o.sidebar.withoutAnimation,mobile:o.device==="mobile"}));xt(()=>{e.value<Bs?(o.toggleDevice("mobile"),o.closeSideBar(!0)):(o.toggleDevice("desktop"),e.value>=1200?o.openSideBar(!0):o.closeSideBar(!0))});function m(){o.closeSideBar(!1)}return(h,k)=>(a(),g("div",{class:B([d.value,"app-wrapper"])},[d.value.mobile&&d.value.openSidebar?(a(),g("div",{key:0,class:"drawer-bg",onClick:m})):P("",!0),n.value?P("",!0):(a(),g("div",Es,[i(Ae,{class:"sidebar-container"}),u("div",{class:B([{hasTagsView:c.value},"main-container"])},[u("div",{class:B({"fixed-header":_.value})},[i(s(ze)),c.value?(a(),C(s(Be),{key:0})):P("",!0)],2),i(s(Ee))],2)])),n.value?(a(),g("div",{key:2,class:B({hasTopHeader:n.value})},[i(Ae,{class:"sidebar-container",style:{top:"60px"}}),i(s(is)),u("div",{class:B([{hasTagsView:c.value},"main-container"])},[u("div",{class:B({"fixed-top-header":_.value})},[i(s(ze)),c.value?(a(),C(s(Be),{key:0})):P("",!0)],2),i(s(Ee))],2)],2)):P("",!0),f.value?(a(),C(zs,{key:3},{default:b(()=>[i(s(jn))]),_:1})):P("",!0)],2))}});const po=H(Ms,[["__scopeId","data-v-736c2cdd"]]);export{po as default};
