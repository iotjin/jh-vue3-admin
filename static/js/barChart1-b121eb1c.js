import{g as v,K as f}from"./element-plus-8029b538.js";import{_ as w}from"./download-5560813b.js";import{i as y}from"./echarts-b3c738ab.js";import{d as x,r as C,$ as b,w as D,i as E,G as k,ak as L,o as S,c as A,X as d,Q as l,a as m,V as z,S as B,a2 as N}from"./@vue-7d0fc2b4.js";import{_ as R}from"./plugin-vueexport-helper-c27b6911.js";import"./lodash-es-d29772ce.js";import"./async-validator-dee29e8b.js";import"./@vueuse-d1e6df39.js";import"./dayjs-78f57161.js";import"./@intlify-999e9484.js";import"./source-map-7d7e1c08.js";import"./@element-plus-975622b8.js";import"./@ctrl-f8748455.js";import"./@sxzz-c75af06c.js";import"./escape-html-bdfaebd7.js";import"./normalize-wheel-es-ed76fb12.js";import"./tslib-54e39b60.js";import"./zrender-b2c699c3.js";const V={class:"card-header"},I=["id"],T=x({__name:"barChart1",props:{id:{required:!0,type:String,default:"myChart"},className:{type:String,default:""},width:{type:String,default:"100%"},height:{type:String,default:"520px"}},setup(r){const p=r,o=C(),i=b({color:["#1D75EA"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",show:!1,boundaryGap:[0,.01]},yAxis:{type:"category",axisLine:{show:!1},axisTick:{show:!1},data:["互联网专业","财务专业","营销专业","发展专业","调控专业","设备专业"]},series:[{data:[45,110,100,25,30,89],name:"",type:"bar",barWidth:"15%",label:{show:!0,position:"right",formatter:"{c} 元"},itemStyle:{borderRadius:[15,15,15,15]}}]});D(()=>i,()=>{o.value.setOption(i)},{deep:!0}),E(()=>{u(),h()}),k(()=>{window.removeEventListener("resize",()=>c)});const u=()=>{o.value=L(y(document.getElementById(p.id))),o.value.setOption(i),window.addEventListener("resize",()=>c)},c=()=>{o.value.resize()},h=()=>{o.value&&(o.value.showLoading(),setTimeout(()=>{const t=g([{name:"互联网专业",value:100},{name:"财务专业",value:110},{name:"营销专业",value:120},{name:"发展专业",value:130},{name:"调控专业",value:140},{name:"设备专业",value:150}]);i.yAxis.data=t.xData,i.series[0].data=t.seriesData,o.value.hideLoading()},1e3))},g=e=>{var t=[],n=[];e.forEach(s=>{t.push(s.name),n.push(s.value)});var a={xData:t,seriesData:n};return a},_=()=>{const e=new Image;e.src=o.value.getDataURL({type:"png",pixelRatio:1,backgroundColor:"#fff"}),e.onload=()=>{const t=document.createElement("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");if(n){n.drawImage(e,0,0,e.width,e.height);const a=document.createElement("a");a.download="Chart.png",a.href=t.toDataURL("image/png",.9),document.body.appendChild(a),a.click(),a.remove()}}};return(e,t)=>{const n=w,a=v,s=f;return S(),A("div",null,[d(s,null,{header:l(()=>[m("div",V,[z(" 专业统计 "),d(a,{effect:"dark",content:"点击试试下载",placement:"bottom"},{default:l(()=>[d(n,{class:"download",onClick:_})]),_:1})])]),default:l(()=>[m("div",{id:r.id,class:B(r.className),style:N({height:r.height,width:r.width})},null,14,I)]),_:1})])}}});const te=R(T,[["__scopeId","data-v-4436a58e"]]);export{te as default};
