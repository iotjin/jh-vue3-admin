import{l as he,m as Ze,n as ke,p as et,k as ve,q as tt,s as nt}from"./@vueuse-d1e6df39.js";import{_ as ot}from"./index.vuevuetypescriptsetuptruelang-2bdb3fe4.js";import{c as ee,d as Oe,e as Re,f as Ne,g as Ve,h as st,i as at,j as lt,k as it,l as ct,m as rt,b as ut,n as dt,o as _t,p as ft,q as We,r as mt,s as pt,t as ht}from"./element-plus-5134355a.js";import{S as Q}from"./index-24a8e899.js";import{u as oe,i as Ie,a as Se,r as Ee,b as vt,g as gt,c as bt,d as q}from"./index-95317ba3.js";import{u as Ue}from"./vue-i18n-625cf0a6.js";import{d as A,k as j,r as L,o as i,P as T,Q as b,X as c,c as g,F as G,ab as J,u as s,V as B,W as P,a as _,w as ne,l as be,S as H,U as I,J as wt,a3 as yt,a5 as X,bh as Ce,bf as Te,ah as se,a2 as ie,Z as Fe,T as xt,aA as $t,i as ce,G as qe,L as le,f as je,R as we,Y as ye,n as Me,j as kt}from"./@vue-7d0fc2b4.js";import{I as xe}from"./@iconify-5142df58.js";import{u as re,b as ue}from"./vue-router-98b533fa.js";import{k as Vt}from"./lodash-es-d29772ce.js";import{_ as D}from"./plugin-vueexport-helper-c27b6911.js";import{c as St}from"./path-to-regexp-36ea9d8d.js";import{d as Ge,s as Le}from"./pinia-4649f5ad.js";import{_ as Ct}from"./caret-bottom-d85b2834.js";import{p as Ke}from"./path-browserify-f26c75a1.js";import"./async-validator-dee29e8b.js";import"./dayjs-78f57161.js";import"./@intlify-999e9484.js";import"./source-map-7d7e1c08.js";import"./@element-plus-14994921.js";import"./@ctrl-f8748455.js";import"./@sxzz-c75af06c.js";import"./escape-html-bdfaebd7.js";import"./normalize-wheel-es-ed76fb12.js";import"./axios-4a70c6fc.js";import"./js-cookie-edb2da2a.js";import"./nprogress-941844a1.js";import"./mockjs-3c670f17.js";import"./vite-plugin-mock-8bbc2346.js";import"./vue-demi-71ba0ef2.js";import"./vue-ff9293da.js";const Tt=A({__name:"index",setup(t){const e=oe(),{t:l}=Ue(),u=j(()=>r.value.map(d=>({label:d.value==="large"?l("navbar.sizeLarge"):d.value==="small"?l("navbar.sizeSmall"):l("navbar.sizeNormal"),value:d.value}))),r=L([{label:"默认",value:"default"},{label:"大型",value:"large"},{label:"小型",value:"small"}]);function a(d){e.changeSize(d),ee.success(l("navbar.sizeMsg"))}return(d,n)=>{const f=Q,v=Oe,m=Re,p=Ne;return i(),T(p,{trigger:"click",onCommand:a},{dropdown:b(()=>[c(m,null,{default:b(()=>[(i(!0),g(G,null,J(s(u),$=>(i(),T(v,{key:$.value,disabled:s(e).size==$.value,command:$.value},{default:b(()=>[B(P($.label),1)]),_:2},1032,["disabled","command"]))),128))]),_:1})]),default:b(()=>[_("div",null,[c(f,{"icon-class":"size"})])]),_:1})}}}),Lt={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Pt=_("path",{fill:"currentColor",d:"m795.904 750.72l124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704a352 352 0 0 0 0 704"},null,-1),It=[Pt];function Et(t,e){return i(),g("svg",Lt,It)}const Mt={name:"ep-search",render:Et};function Y(t){return Ie.global.te("route."+t)?Ie.global.t("route."+t):t}const Bt={key:0,class:"search-list"},Ht=["onMouseenter"],At={class:"item-center"},Dt={class:"search-item-title"},zt={class:"footer"},Ot={class:"item-center"},Rt={class:"item-center"},Nt={class:"item-center"},Wt=A({__name:"NavSearch",setup(t){const e=Se(),l=L(!1),u=L(""),r=L(-1),a=L([]),d=re(),n=Ze(m,250),f=o=>o&&o.icon&&o.icon.includes(":"),v=o=>o&&o.icon&&!f(o);function m(o){const h=o==null?void 0:o.trim().toLocaleLowerCase();if(!h){a.value=[];return}a.value=p(Vt(e.routes),h),r.value=s(a).length>0?0:-1}function p(o,h,x){const y=[];return o.forEach(V=>{var k;V&&V.meta&&JSON.stringify(V.meta)!=="{}"&&(Object.assign(V.meta,{icon:V.meta.icon?V.meta.icon:x?x.meta.icon:"",title:x?`${Y(x.meta.title)} > ${Y(V.meta.title)}`:Y(V.meta.title)}),!V.meta.hidden&&V.meta.title.toLocaleLowerCase().includes(h)&&((k=V.children)!=null&&k.length||y.push(V)),!V.meta.hideChildren&&V.children&&y.push(...p(V.children,h,V)))}),y}function $(){s(a).length===0||s(r)<0||(l.value=!1,d.push({name:s(a)[s(r)].name}),E())}function C(o){r.value=Number(o)}function N(){a.value.length&&(r.value--,r.value<0&&(r.value=a.value.length-1))}function W(){a.value.length&&(r.value++,r.value>a.value.length-1&&(r.value=0))}function E(){u.value="",a.value=[]}return he("Enter",$),he("ArrowUp",N),he("ArrowDown",W),ne(u,()=>{n(u.value)}),(o,h)=>{const x=Mt,y=Ve,V=st,k=Q,Z=at,fe=lt,me=it;return i(),g(G,null,[c(y,{placement:"bottom",content:o.$t("navbar.search")},{default:b(()=>[_("div",{onClick:h[0]||(h[0]=z=>l.value=!0),class:"item-center"},[c(x)])]),_:1},8,["content"]),c(me,{modelValue:s(l),"onUpdate:modelValue":h[2]||(h[2]=z=>be(l)?l.value=z:null),top:"10vh",title:"",class:"search-dialog","min-height":"200px",width:"750px","show-close":!1,closeOnPressEscape:"",onClosed:E},{footer:b(()=>[_("div",zt,[c(fe,{size:10},{default:b(()=>[_("div",Ot,[c(k,{"icon-class":"confirm",class:"icon"}),_("span",null,P(o.$t("navbar.searchConfirm")),1)]),_("div",Rt,[c(k,{"icon-class":"up",class:"icon"}),c(k,{"icon-class":"down",class:"icon"}),_("span",null,P(o.$t("navbar.searchSwitch")),1)]),_("div",Nt,[c(k,{"icon-class":"esc",class:"icon"}),_("span",null,P(o.$t("navbar.searchClose")),1)])]),_:1})])]),default:b(()=>[c(V,{modelValue:s(u),"onUpdate:modelValue":h[1]||(h[1]=z=>be(u)?u.value=z:null),placeholder:o.$t("navbar.searchPlaceholder"),size:"large",clearable:""},{prefix:b(()=>[c(x)]),_:1},8,["modelValue","placeholder"]),s(a).length>0?(i(),g("div",Bt,[(i(!0),g(G,null,J(s(a),(z,ae)=>(i(),g("div",{class:H(["search-item item-center",{active:ae===s(r)}]),key:z.name,onClick:$,onMouseenter:Pe=>C(ae)},[_("div",At,[f(z.meta)?(i(),T(s(xe),{key:0,icon:z.meta.icon,style:{"font-size":"20px"}},null,8,["icon"])):I("",!0),v(z.meta)?(i(),T(k,{key:1,"icon-class":z.meta.icon},null,8,["icon-class"])):I("",!0),_("span",Dt,P(z.meta.title),1)]),c(k,{"icon-class":"confirm"})],42,Ht))),128))])):(i(),T(Z,{key:1,description:o.$t("navbar.searchEmpty"),"image-size":64},null,8,["description"]))]),_:1},8,["modelValue"])],64)}}});const Ut=D(Wt,[["__scopeId","data-v-89df27df"]]),Ft={key:0,class:"text-[var(--el-disabled-text-color)]"},qt=["onClick"],jt=A({__name:"index",setup(t){const e=ue(),l=n=>{const{params:f}=e;return St(n)(f)},u=L([]);function r(){let n=e.matched.filter(v=>v.meta&&v.meta.title);const f=n[0];a(f)||(n=[{path:"/dashboard",meta:{title:"dashboard"}}].concat(n)),u.value=n.filter(v=>v.meta&&v.meta.title&&v.meta.breadcrumb!==!1)}function a(n){const f=n&&n.name;return f?f.toString().trim().toLocaleLowerCase()==="Dashboard".toLocaleLowerCase():!1}function d(n){const{redirect:f,path:v}=n;if(f){Ee.push(f).catch(m=>{console.warn(m)});return}Ee.push(l(v)).catch(m=>{console.warn(m)})}return ne(()=>e.path,n=>{n.startsWith("/redirect/")||r()}),wt(()=>{r()}),(n,f)=>{const v=ct,m=rt;return i(),T(m,{class:"h-[50px] flex items-center"},{default:b(()=>[c(yt,{name:"breadcrumb"},{default:b(()=>[(i(!0),g(G,null,J(u.value,(p,$)=>(i(),T(v,{key:p.path},{default:b(()=>[p.redirect==="noredirect"||$===u.value.length-1?(i(),g("span",Ft,P(s(Y)(p.meta.title)),1)):(i(),g("a",{key:1,onClick:X(C=>d(p),["prevent"])},P(s(Y)(p.meta.title)),9,qt))]),_:2},1024))),128))]),_:1})]),_:1})}}});const Gt=D(jt,[["__scopeId","data-v-b88176e2"]]),Kt=t=>(Ce("data-v-3415bc80"),t=t(),Te(),t),Yt=Kt(()=>_("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"},null,-1)),Jt=[Yt],Xt=A({__name:"index",props:{isActive:{required:!0,type:Boolean,default:!1}},emits:["toggleClick"],setup(t,{emit:e}){const l=ke();function u(){e("toggleClick")}return(r,a)=>(i(),g("div",{class:H(["hamburger-container",{dark:s(l)}]),onClick:u},[(i(),g("svg",{class:H([{"is-active":t.isActive},"hamburger"]),viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",style:{color:"#fff !important"}},Jt,2))],2))}});const Qt=D(Xt,[["__scopeId","data-v-3415bc80"]]),de=Ge("tagsView",()=>{const t=L([]),e=L([]);function l(o){var h,x;t.value.some(y=>y.path===o.path)||(o.meta&&o.meta.affix?t.value.unshift(Object.assign({},o,{title:((h=o.meta)==null?void 0:h.title)||"no-name"})):t.value.push(Object.assign({},o,{title:((x=o.meta)==null?void 0:x.title)||"no-name"})))}function u(o){var x;const h=o.name;e.value.includes(h)||(x=o.meta)!=null&&x.keepAlive&&e.value.push(h)}function r(o){return new Promise(h=>{for(const[x,y]of t.value.entries())if(y.path===o.path){t.value.splice(x,1);break}h([...t.value])})}function a(o){const h=o.name;return new Promise(x=>{const y=e.value.indexOf(h);y>-1&&e.value.splice(y,1),x([...e.value])})}function d(o){return new Promise(h=>{t.value=t.value.filter(x=>{var y;return((y=x.meta)==null?void 0:y.affix)||x.path===o.path}),h([...t.value])})}function n(o){const h=o.name;return new Promise(x=>{const y=e.value.indexOf(h);y>-1?e.value=e.value.slice(y,y+1):e.value=[],x([...e.value])})}function f(o){for(let h of t.value)if(h.path===o.path){h=Object.assign(h,o);break}}function v(o){l(o),u(o)}function m(o){return new Promise(h=>{r(o),a(o),h({visitedViews:[...t.value],cachedViews:[...e.value]})})}function p(o){return new Promise(h=>{d(o),n(o),h({visitedViews:[...t.value],cachedViews:[...e.value]})})}function $(o){return new Promise(h=>{const x=t.value.findIndex(y=>y.path===o.path);x!==-1&&(t.value=t.value.filter((y,V)=>{if(V>=x||y.meta&&y.meta.affix)return!0;const k=e.value.indexOf(y.name);return k>-1&&e.value.splice(k,1),!1}),h({visitedViews:[...t.value]}))})}function C(o){return new Promise(h=>{const x=t.value.findIndex(y=>y.path===o.path);x!==-1&&(t.value=t.value.filter((y,V)=>{if(V<=x||y.meta&&y.meta.affix)return!0;const k=e.value.indexOf(y.name);return k>-1&&e.value.splice(k,1),!1}),h({visitedViews:[...t.value]}))})}function N(){return new Promise(o=>{const h=t.value.filter(x=>{var y;return(y=x.meta)==null?void 0:y.affix});t.value=h,e.value=[],o({visitedViews:[...t.value],cachedViews:[...e.value]})})}function W(){return new Promise(o=>{const h=t.value.filter(x=>{var y;return(y=x.meta)==null?void 0:y.affix});t.value=h,o([...t.value])})}function E(){return new Promise(o=>{e.value=[],o([...e.value])})}return{visitedViews:t,cachedViews:e,addVisitedView:l,addCachedView:u,delVisitedView:r,delCachedView:a,delOtherVisitedViews:d,delOtherCachedViews:n,updateVisitedView:f,addView:v,delView:m,delOtherViews:p,delLeftViews:$,delRightViews:C,delAllViews:N,delAllVisitedViews:W,delAllCachedViews:E}}),Zt={class:"container"},en={class:"avatar-container"},tn=["src"],nn={key:0,class:"user-name"},on=["href"],sn=["href"],an=A({__name:"UserInfo",props:{hasTopHeader:{required:!1,type:Boolean,default:!1}},setup(t){const{t:e}=Ue(),l=de(),u=vt(),r=ue(),a=re();function d(){ut.confirm(e("logout.message"),e("logout.title"),{confirmButtonText:e("logout.confirmButtonText"),cancelButtonText:e("logout.cancelButtonText"),type:"warning"}).then(()=>{u.logout().then(()=>{l.delAllViews()}).then(()=>{a.push(`/login?redirect=${r.fullPath}`)})})}return(n,f)=>{const v=Ct,m=Oe,p=se("router-link"),$=Re,C=Ne;return i(),g("div",Zt,[c(C,{trigger:"click"},{dropdown:b(()=>[c($,null,{default:b(()=>[c(p,{to:"/"},{default:b(()=>[c(m,null,{default:b(()=>[B(P(n.$t("navbar.dashboard")),1)]),_:1})]),_:1}),_("a",{target:"_blank",href:s(gt)},[c(m,null,{default:b(()=>[B("Github")]),_:1})],8,on),_("a",{target:"_blank",href:s(bt)},[c(m,null,{default:b(()=>[B(P(n.$t("navbar.document")),1)]),_:1})],8,sn),c(m,{divided:"",onClick:d},{default:b(()=>[B(P(n.$t("navbar.logout")),1)]),_:1})]),_:1})]),default:b(()=>[_("div",en,[_("img",{class:"user-avatar",src:s(u).avatar+"?imageView2/1/w/80/h/80"},null,8,tn),t.hasTopHeader?(i(),g("div",nn,P(s(u).nickname),1)):I("",!0),c(v,{style:ie({color:t.hasTopHeader?"white":"black"})},null,8,["style"])])]),_:1})])}}});const Ye=D(an,[["__scopeId","data-v-eb499f87"]]),ln={class:"navbar"},cn={class:"flex"},rn={class:"flex"},un={key:0,class:"setting-container"},dn={class:"setting-item item-center"},_n=A({__name:"Navbar",setup(t){const e=oe(),{device:l}=Le(e);function u(){e.toggleSidebar(!0)}const{isFullscreen:r,toggle:a}=et();return(d,n)=>{const f=Qt,v=Gt,m=Ut,p=Q,$=Ve,C=Tt,N=ot;return i(),g("div",ln,[_("div",cn,[c(f,{"is-active":s(e).sidebar.opened,onToggleClick:u},null,8,["is-active"]),c(v)]),_("div",rn,[s(l)!=="mobile"?(i(),g("div",un,[_("div",dn,[c(m)]),c($,{content:d.$t(s(r)?"navbar.exitFull":"navbar.entryFull"),effect:"dark",placement:"bottom"},{default:b(()=>[_("div",{class:"setting-item",onClick:n[0]||(n[0]=(...W)=>s(a)&&s(a)(...W))},[c(p,{"icon-class":s(r)?"exit-fullscreen":"fullscreen"},null,8,["icon-class"])])]),_:1},8,["content"]),c($,{content:d.$t("navbar.layoutSize"),effect:"dark",placement:"bottom"},{default:b(()=>[c(C,{class:"setting-item"})]),_:1},8,["content"]),c(N,{class:"setting-item"})])):I("",!0),c(Ye)])])}}});const Be=D(_n,[["__scopeId","data-v-249f0e9e"]]),fn={class:"app-main"},mn=A({__name:"AppMain",setup(t){const e=de();return(l,u)=>{const r=se("router-view");return i(),g("section",fn,[c(r,null,{default:b(({Component:a,route:d})=>[c(Fe,{name:"router-fade",mode:"out-in"},{default:b(()=>[(i(),T($t,{include:s(e).cachedViews},[(i(),T(xt(a),{key:d.fullPath}))],1032,["include"]))]),_:2},1024)]),_:1})])}}});const He=D(mn,[["__scopeId","data-v-14e054ed"]]),pn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},hn=_("path",{fill:"currentColor",d:"M406.656 706.944L195.84 496.256a32 32 0 1 0-45.248 45.248l256 256l512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),vn=[hn];function gn(t,e){return i(),g("svg",pn,vn)}const bn={name:"ep-check",render:gn},_e=Ge("setting",()=>{const t=ve("tagsView",q.tagsView),e=L(q.showSettings),l=L(q.fixedHeader),u=L(q.sidebarLogo),r=L(q.topHeader),a=ve("themeColor",q.themeColor),d=ve("layout",q.layout);function n(f){const{key:v,value:m}=f;switch(v){case"showSettings":e.value=m;break;case"fixedHeader":l.value=m;break;case"tagsView":t.value=m;break;case"sidevarLogo":u.value=m;break;case"themeColor":a.value=m;break;case"layout":d.value=m;break}}return{showSettings:e,tagsView:t,fixedHeader:l,sidebarLogo:u,topHeader:r,themeColor:a,layout:d,changeSetting:n}});function te(){return{hexToRgb:r=>{let a="";if(!/^\#?[0-9A-Fa-f]{6}$/.test(r))return ee.warning("输入错误的hex"),"";r=r.replace("#",""),a=r.match(/../g);for(let n=0;n<3;n++)a[n]=parseInt(a[n],16);return a},rgbToHex:(r,a,d)=>{let n=/^\d{1,3}$/;if(!n.test(r)||!n.test(a)||!n.test(d))return ee.warning("输入错误的rgb颜色值"),"";let f=[r.toString(16),a.toString(16),d.toString(16)];for(let v=0;v<3;v++)f[v].length==1&&(f[v]=`0${f[v]}`);return`#${f.join("")}`},getDarkColor:(r,a)=>{if(!/^\#?[0-9A-Fa-f]{6}$/.test(r))return ee.warning("输入错误的hex颜色值"),"";let n=te().hexToRgb(r);for(let f=0;f<3;f++)n[f]=Math.floor(n[f]*(1-a));return te().rgbToHex(n[0],n[1],n[2])},getLightColor:(r,a)=>{if(!/^\#?[0-9A-Fa-f]{6}$/.test(r))return ee.warning("输入错误的hex颜色值"),"";let n=te().hexToRgb(r);for(let f=0;f<3;f++)n[f]=Math.floor((255-n[f])*a+n[f]);return te().rgbToHex(n[0],n[1],n[2])}}}const wn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},yn=_("path",{fill:"currentColor",d:"M512 704a192 192 0 1 0 0-384a192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512a256 256 0 0 1 0 512m0-704a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 768a32 32 0 0 1 32 32v64a32 32 0 1 1-64 0v-64a32 32 0 0 1 32-32M195.2 195.2a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 1 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248m543.104 543.104a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 0 1-45.248 45.248l-45.248-45.248a32 32 0 0 1 0-45.248M64 512a32 32 0 0 1 32-32h64a32 32 0 0 1 0 64H96a32 32 0 0 1-32-32m768 0a32 32 0 0 1 32-32h64a32 32 0 1 1 0 64h-64a32 32 0 0 1-32-32M195.2 828.8a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248L240.448 828.8a32 32 0 0 1-45.248 0m543.104-543.104a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248l-45.248 45.248a32 32 0 0 1-45.248 0"},null,-1),xn=[yn];function $n(t,e){return i(),g("svg",wn,xn)}const kn={name:"ep-sunny",render:$n},Vn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Sn=_("path",{fill:"currentColor",d:"M240.448 240.448a384 384 0 1 0 559.424 525.696a448 448 0 0 1-542.016-542.08a390.592 390.592 0 0 0-17.408 16.384m181.056 362.048a384 384 0 0 0 525.632 16.384A448 448 0 1 1 405.056 76.8a384 384 0 0 0 16.448 525.696"},null,-1),Cn=[Sn];function Tn(t,e){return i(),g("svg",Vn,Cn)}const Ln={name:"ep-moon",render:Tn},F=t=>(Ce("data-v-379826c9"),t=t(),Te(),t),Pn={class:"drawer-container"},In=F(()=>_("h3",{class:"drawer-title"},"项目配置",-1)),En={class:"drawer-item"},Mn=F(()=>_("span",{class:"text"},"开启 Tags-View",-1)),Bn={class:"drawer-item"},Hn=F(()=>_("span",{class:"text"},"固定 Header",-1)),An={class:"drawer-item"},Dn=F(()=>_("span",{class:"text"},"侧边栏 Logo",-1)),zn={class:"drawer-item"},On=F(()=>_("span",{class:"text"},"开启 Top-Header",-1)),Rn={class:"drawer-theme"},Nn=["onClick"],Wn={class:"layout"},Un=F(()=>_("div",null,null,-1)),Fn=F(()=>_("div",null,null,-1)),qn=[Un,Fn],jn=F(()=>_("div",null,null,-1)),Gn=F(()=>_("div",null,null,-1)),Kn=[jn,Gn],Yn=F(()=>_("div",null,null,-1)),Jn=F(()=>_("div",null,null,-1)),Xn=[Yn,Jn],Qn=A({__name:"index",setup(t){const e=_e(),l=ke(),u=()=>tt(l),{getLightColor:r,getDarkColor:a}=te();function d(m){e.changeSetting({key:"layout",value:m}),window.document.body.setAttribute("layout",e.layout)}const n=L(["#409EFF","#304156","#11a983","#13c2c2","#6959CD","#f5222d"]);function f(m){document.documentElement.style.setProperty("--el-color-primary",m),document.documentElement.style.setProperty("--el-color-primary-dark-2",`${a(m,.1)}`);for(let p=1;p<=9;p++)document.documentElement.style.setProperty(`--el-color-primary-light-${p}`,`${r(m,p/10)}`);e.changeSetting({key:"themeColor",value:m})}ce(()=>{f(e.themeColor),window.document.body.setAttribute("layout",e.layout)});const v=m=>{const p=e.themeColor;return m===p?"#fff":"transparent"};return(m,p)=>{const $=dt,C=_t,N=bn,W=ft,E=Ve;return i(),g("div",Pn,[In,c($,null,{default:b(()=>[B("主题")]),_:1}),_("div",{class:"drawer-switch",onClick:p[1]||(p[1]=X(()=>{},["stop"]))},[c(C,{modelValue:s(l),"onUpdate:modelValue":p[0]||(p[0]=o=>be(l)?l.value=o:null),"inline-prompt":"","active-icon":s(Ln),"inactive-icon":s(kn),"active-color":"var(--el-fill-color-dark)","inactive-color":"var(--el-color-primary)",onChange:u},null,8,["modelValue","active-icon","inactive-icon"])]),c($,null,{default:b(()=>[B("界面设置")]),_:1}),_("div",En,[Mn,c(C,{modelValue:s(e).tagsView,"onUpdate:modelValue":p[2]||(p[2]=o=>s(e).tagsView=o)},null,8,["modelValue"])]),_("div",Bn,[Hn,c(C,{modelValue:s(e).fixedHeader,"onUpdate:modelValue":p[3]||(p[3]=o=>s(e).fixedHeader=o)},null,8,["modelValue"])]),_("div",An,[Dn,c(C,{modelValue:s(e).sidebarLogo,"onUpdate:modelValue":p[4]||(p[4]=o=>s(e).sidebarLogo=o)},null,8,["modelValue"])]),_("div",zn,[On,c(C,{modelValue:s(e).topHeader,"onUpdate:modelValue":p[5]||(p[5]=o=>s(e).topHeader=o)},null,8,["modelValue"])]),c($,null,{default:b(()=>[B("主题颜色")]),_:1}),_("ul",Rn,[(i(!0),g(G,null,J(s(n),(o,h)=>(i(),g("li",{key:h,class:"drawer-theme-item",style:ie({background:o}),onClick:x=>f(o)},[c(W,{size:17,color:v(o),class:"check-icon"},{default:b(()=>[c(N)]),_:2},1032,["color"])],12,Nn))),128))]),c($,null,{default:b(()=>[B("导航设置")]),_:1}),_("ul",Wn,[c(E,{content:"左侧模式",placement:"bottom"},{default:b(()=>[_("li",{class:H("layout-item layout-left "+(s(e).layout=="left"?"is-active":"")),onClick:p[6]||(p[6]=o=>d("left"))},qn,2)]),_:1}),c(E,{content:"顶部模式",placement:"bottom"},{default:b(()=>[_("li",{class:H("layout-item layout-top "+(s(e).layout=="top"?"is-active":"")),onClick:p[7]||(p[7]=o=>d("top"))},Kn,2)]),_:1}),c(E,{content:"混合模式",placement:"bottom"},{default:b(()=>[_("li",{class:H("layout-item layout-mix "+(s(e).layout=="mix"?"is-active":"")),onClick:p[8]||(p[8]=o=>d("mix"))},Xn,2)]),_:1})])])}}});const Zn=D(Qn,[["__scopeId","data-v-379826c9"]]),eo={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},to=_("path",{fill:"currentColor",d:"M764.288 214.592L512 466.88L259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512L214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),no=[to];function oo(t,e){return i(),g("svg",eo,no)}const Je={name:"ep-close",render:oo},so=A({__name:"ScrollPane",emits:["scroll"],setup(t,{expose:e,emit:l}){const u=L(4),{proxy:r}=je(),a=()=>{l("scroll")},d=de(),n=j(()=>r==null?void 0:r.$refs.scrollContainer.$refs.wrapRef);ce(()=>{n.value.addEventListener("scroll",a,!0)}),qe(()=>{n.value.removeEventListener("scroll",a)});function f(m){const p=m.wheelDelta||-m.deltaY*40;n.value.scrollLeft=n.value.scrollLeft+p/4}function v(m){const $=r.$refs.scrollContainer.$el.offsetWidth,C=n.value;let N=null,W=null;if(d.visitedViews.length>0&&(N=d.visitedViews[0],W=d.visitedViews[d.visitedViews.length-1]),N===m)C.scrollLeft=0;else if(W===m)C.scrollLeft=C.scrollWidth-$;else{const E=document.getElementsByClassName("tags-item"),o=d.visitedViews.findIndex(k=>k===m);let h=null,x=null;for(const k in E)k!=="length"&&Object.hasOwnProperty.call(E,k)&&(E[k].dataset.path===d.visitedViews[o-1].path&&(h=E[k]),E[k].dataset.path===d.visitedViews[o+1].path&&(x=E[k]));const y=x.offsetLeft+x.offsetWidth+u.value,V=h.offsetLeft-u.value;y>C.scrollLeft+$?C.scrollLeft=y-$:V<C.scrollLeft&&(C.scrollLeft=V)}}return e({moveToTarget:v}),(m,p)=>{const $=We;return i(),T($,{ref:"scrollContainer",class:"scroll-container",vertical:!1,onWheel:X(f,["prevent"])},{default:b(()=>[le(m.$slots,"default",{},void 0,!0)]),_:3},8,["onWheel"])}}});const ao=D(so,[["__scopeId","data-v-69cdbe12"]]),lo={class:"tags-container"},io=["onClick"],co=A({__name:"index",setup(t){const{proxy:e}=je(),l=re(),u=ue(),r=Se(),a=de(),{visitedViews:d}=Le(a),n=L({}),f=L(),v=L(0),m=L(0),p=L([]);ne(u,()=>{W(),E()},{immediate:!0});const $=L(!1);ne($,w=>{w?document.body.addEventListener("click",pe):document.body.removeEventListener("click",pe)});function C(w,S="/"){let O=[];return w.forEach(U=>{if(U.meta&&U.meta.affix){const R=Ke.resolve(S,U.path);O.push({fullPath:R,path:R,name:U.name,meta:{...U.meta}})}if(U.children){const R=C(U.children,U.path);R.length>=1&&(O=O.concat(R))}}),O}function N(){const w=C(r.routes);p.value=w;for(const S of w)S.name&&a.addVisitedView(S)}function W(){u.name&&a.addView(u)}function E(){Me(()=>{for(const w of a.visitedViews)w.path===u.path&&(f.value.moveToTarget(w),w.fullPath!==u.fullPath&&a.updateVisitedView(u))})}function o(w){return w.path===u.path}function h(w){return w.meta&&w.meta.affix}function x(){try{return n.value.fullPath===a.visitedViews[1].fullPath||n.value.fullPath==="/index"}catch{return!1}}function y(){try{return n.value.fullPath===a.visitedViews[a.visitedViews.length-1].fullPath}catch{return!1}}function V(w){a.delCachedView(w);const{fullPath:S}=w;Me(()=>{l.replace({path:"/redirect"+S}).catch(O=>{console.warn(O)})})}function k(w,S){const O=w.slice(-1)[0];O&&O.fullPath?l.push(O.fullPath):S.name==="Dashboard"?l.replace({path:"/redirect"+S.fullPath}):l.push("/")}function Z(w){a.delView(w).then(S=>{o(w)&&k(S.visitedViews,w)})}function fe(){a.delLeftViews(n.value).then(w=>{w.visitedViews.find(S=>S.fullPath===u.fullPath)||k(w.visitedViews)})}function me(){a.delRightViews(n.value).then(w=>{w.visitedViews.find(S=>S.fullPath===u.fullPath)||k(w.visitedViews)})}function z(){l.push(n.value),a.delOtherViews(n.value).then(()=>{E()})}function ae(w){a.delAllViews().then(S=>{k(S.visitedViews,w)})}function Pe(w,S){const U=e==null?void 0:e.$el.getBoundingClientRect().left,M=(e==null?void 0:e.$el.offsetWidth)-105,K=S.clientX-U+15;K>M?v.value=M:v.value=K,m.value=S.clientY,$.value=!0,n.value=w}function pe(){$.value=!1}function Qe(){pe()}return ce(()=>{N()}),(w,S)=>{const O=Je,U=se("router-link"),R=Q;return i(),g("div",lo,[c(ao,{ref_key:"scrollPaneRef",ref:f,onScroll:Qe},{default:b(()=>[(i(!0),g(G,null,J(s(d),M=>(i(),T(U,{key:M.path,class:H("tags-item "+(o(M)?"active":"")),"data-path":M.path,to:{path:M.path,query:M.query},onMouseup:X(K=>h(M)?"":Z(M),["middle"]),onContextmenu:X(K=>Pe(M,K),["prevent"])},{default:b(()=>{var K;return[B(P(s(Y)((K=M.meta)==null?void 0:K.title))+" ",1),h(M)?I("",!0):(i(),g("span",{key:0,class:"tags-item-close",onClick:X(Fo=>Z(M),["prevent","stop"])},[c(O,{style:{"font-size":"12px"}})],8,io))]}),_:2},1032,["class","data-path","to","onMouseup","onContextmenu"]))),128))]),_:1},512),we(_("ul",{class:"tag-menu",style:ie({left:v.value+"px",top:m.value+"px"})},[_("li",{onClick:S[0]||(S[0]=M=>V(n.value))},[c(R,{"icon-class":"refresh"}),B(P(w.$t("tagsView.refresh")),1)]),h(n.value)?I("",!0):(i(),g("li",{key:0,onClick:S[1]||(S[1]=M=>Z(n.value))},[c(R,{"icon-class":"close"}),B(P(w.$t("tagsView.close")),1)])),_("li",{onClick:z},[c(R,{"icon-class":"close_other"}),B(P(w.$t("tagsView.closeOthers")),1)]),x()?I("",!0):(i(),g("li",{key:1,onClick:fe},[c(R,{"icon-class":"close_left"}),B(P(w.$t("tagsView.closeLeft")),1)])),y()?I("",!0):(i(),g("li",{key:2,onClick:me},[c(R,{"icon-class":"close_right"}),B(P(w.$t("tagsView.closeRight")),1)])),_("li",{onClick:S[2]||(S[2]=M=>ae(n.value))},[c(R,{"icon-class":"close_all"}),B(P(w.$t("tagsView.closeAll")),1)])],4),[[ye,$.value]])])}}});const Ae=D(co,[["__scopeId","data-v-cb2d45c9"]]),ro={class:"top-header bgImage"},uo={class:"header"},_o={class:"left"},fo={class:"right"},mo=A({__name:"TopHeader",setup(t){const e=L("Vue3在线管理系统");return(l,u)=>(i(),g("div",ro,[_("div",uo,[_("div",_o,P(s(e)),1),_("div",fo,[c(Ye,{hasTopHeader:""})])])]))}});const po=D(mo,[["__scopeId","data-v-1010086c"]]);function Xe(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function ho(t,e){Xe(t,e)||(t.className+=" "+e)}function vo(t,e){if(Xe(t,e)){const l=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(l," ")}}function $e(t){return/^(https?:|http?:|mailto:|tel:)/.test(t)}const go=["href"],bo=A({__name:"Link",props:{to:{type:String,required:!0}},setup(t){const e=t,l=oe(),u=j(()=>l.sidebar),r=j(()=>l.device),a=re();function d(){r.value==="mobile"&&u.value.opened==!0&&l.closeSideBar(!1),a.push(e.to).catch(n=>{console.error(n)})}return(n,f)=>s($e)(t.to)?(i(),g("a",{key:0,href:t.to,target:"_blank",rel:"noopener"},[le(n.$slots,"default")],8,go)):(i(),g("div",{key:1,onClick:d},[le(n.$slots,"default")]))}}),wo={key:0},yo={key:2},xo=A({__name:"SidebarItem",props:{item:{type:Object,required:!0},basePath:{type:String,required:!0},isCollapse:{type:Boolean,default:!1}},setup(t){const e=t,l=L(),u=n=>n&&n.icon&&n.icon.includes(":"),r=n=>n&&n.icon&&!u(n);function a(n=[],f){const v=n.filter(m=>{var p;return(p=m.meta)!=null&&p.hidden?!1:(l.value=m,!0)});return v.length===1?!0:v.length===0?(l.value={...f,path:"",noShowingChildren:!0},!0):!1}function d(n){return $e(n)?n:$e(e.basePath)?e.basePath:Ke.resolve(e.basePath,n)}return(n,f)=>{const v=mt,m=se("sidebar-item",!0),p=pt;return!t.item.meta||!t.item.meta.hidden?(i(),g("div",wo,[a(t.item.children,t.item)&&(!s(l).children||s(l).noShowingChildren)?(i(),g(G,{key:0},[s(l).meta?(i(),T(bo,{key:0,to:d(s(l).path)},{default:b(()=>[c(v,{index:d(s(l).path),class:H({"menu-item-custom":t.isCollapse})},{title:b(()=>[B(P(s(Y)(s(l).meta.title)),1)]),default:b(()=>[u(s(l).meta)?(i(),T(s(xe),{key:0,icon:s(l).meta.icon,class:"svg-icon"},null,8,["icon"])):I("",!0),r(s(l).meta)?(i(),T(Q,{key:1,"icon-class":s(l).meta.icon},null,8,["icon-class"])):I("",!0)]),_:1},8,["index","class"])]),_:1},8,["to"])):I("",!0)],64)):(i(),T(p,{key:1,index:d(t.item.path),teleported:""},{title:b(()=>[u(t.item.meta)?(i(),T(s(xe),{key:0,icon:t.item.meta.icon,class:"svg-icon"},null,8,["icon"])):I("",!0),r(t.item.meta)?(i(),T(Q,{key:1,"icon-class":t.item.meta.icon},null,8,["icon-class"])):I("",!0),t.item.meta&&t.item.meta.title?(i(),g("span",yo,P(s(Y)(t.item.meta.title)),1)):I("",!0)]),default:b(()=>[(i(!0),g(G,null,J(t.item.children,$=>(i(),T(m,{key:$.path,item:$,"base-path":d($.path)},null,8,["item","base-path"]))),128))]),_:1},8,["index"]))])):I("",!0)}}});const $o=D(xo,[["__scopeId","data-v-7bd1b2a5"]]),ko={key:1,class:"sidebar-title"},Vo={class:"sidebar-title"},De="https://wpimg.wallstcn.com/69a1c46c-eb1c-4b46-8bd4-e9e686ef5251.png",So=A({__name:"Logo",props:{collapse:{type:Boolean,required:!0}},setup(t){const e=_e(),l=ke();return(u,r)=>{const a=se("router-link");return i(),g("div",{class:H(["sidebar-logo-container",{collapse:t.collapse,"dark-bg":s(l)}])},[c(Fe,{name:"sidebarLogoFade"},{default:b(()=>[t.collapse?(i(),T(a,{key:"collapse",class:"sidebar-logo-link",to:"/"},{default:b(()=>[s(e).sidebarLogo?(i(),g("img",{key:0,src:De,class:"sidebar-logo"})):(i(),g("h1",ko,P(s(q).title),1))]),_:1})):(i(),T(a,{key:"expand",class:"sidebar-logo-link",to:"/"},{default:b(()=>[s(e).sidebarLogo?(i(),g("img",{key:0,src:De,class:"sidebar-logo"})):I("",!0),_("h1",Vo,P(s(q).title),1)]),_:1}))]),_:1})],2)}}});const Co=D(So,[["__scopeId","data-v-0b384a40"]]),To="var(--menuBg)",Lo="var(--menuText)",Po="var(--menuActiveText)",ge={menuBg:To,menuText:Lo,menuActiveText:Po},ze=A({__name:"index",setup(t){const e=_e(),l=Se(),u=oe(),r=ue(),{sidebarLogo:a}=Le(e);return(d,n)=>{const f=ht,v=We;return i(),g("div",{class:H({"has-logo":s(a)})},[s(a)?(i(),T(Co,{key:0,collapse:!s(u).sidebar.opened},null,8,["collapse"])):I("",!0),c(v,null,{default:b(()=>[c(f,{"default-active":s(r).path,collapse:!s(u).sidebar.opened,"background-color":s(ge).menuBg,"text-color":s(ge).menuText,"active-text-color":s(ge).menuActiveText,"unique-opened":!1,"collapse-transition":!1,mode:"vertical"},{default:b(()=>[(i(!0),g(G,null,J(s(l).routes,m=>(i(),T($o,{key:m.path,item:m,"base-path":m.path,"is-collapse":!s(u).sidebar.opened},null,8,["item","base-path","is-collapse"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color"])]),_:1})],2)}}}),Io={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Eo=_("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088l-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36l-116.224-25.088l-65.28 113.152l79.68 88.192l-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136l-79.808 88.192l65.344 113.152l116.224-25.024l22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152l24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296l116.288 25.024l65.28-113.152l-79.744-88.192l1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136l79.808-88.128l-65.344-113.152l-116.288 24.96l-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384a192 192 0 0 1 0-384m0 64a128 128 0 1 0 0 256a128 128 0 0 0 0-256"},null,-1),Mo=[Eo];function Bo(t,e){return i(),g("svg",Io,Mo)}const Ho={name:"ep-setting",render:Bo},Ao=t=>(Ce("data-v-cb8c5906"),t=t(),Te(),t),Do=Ao(()=>_("div",{class:"right-panel-overlay"},null,-1)),zo={class:"right-panel-container"},Oo=A({__name:"index",props:{buttonTop:{default:300,type:Number}},setup(t){const e=L(!1);ne(e,d=>{d&&l(),d?ho(document.body,"showRightPanel"):vo(document.body,"showRightPanel")});function l(){window.addEventListener("click",u,{passive:!0})}function u(d){d.target.closest(".right-panel-container")||(e.value=!1,window.removeEventListener("click",u))}const r=L();function a(){const d=document.querySelector("body");d.insertBefore(r.value,d.firstChild)}return ce(()=>{a()}),qe(()=>{r.value.remove()}),(d,n)=>{const f=Je,v=Ho;return i(),g("div",{ref_key:"rightPanel",ref:r,class:H({show:e.value})},[Do,_("div",zo,[_("div",{class:"right-panel-btn",style:ie({top:t.buttonTop+"px"}),onClick:n[0]||(n[0]=m=>e.value=!e.value)},[we(c(f,null,null,512),[[ye,e.value]]),we(c(v,null,null,512),[[ye,!e.value]])],4),_("div",null,[le(d.$slots,"default",{},void 0,!0)])])],2)}}});const Ro=D(Oo,[["__scopeId","data-v-cb8c5906"]]),No={key:1},Wo=992,Uo=A({__name:"index",setup(t){const{width:e}=nt(),l=oe(),u=_e(),r=j(()=>u.fixedHeader),a=j(()=>u.tagsView),d=j(()=>u.showSettings),n=j(()=>u.topHeader),f=j(()=>({hideSidebar:!l.sidebar.opened,openSidebar:l.sidebar.opened,withoutAnimation:l.sidebar.withoutAnimation,mobile:l.device==="mobile"}));kt(()=>{e.value<Wo?(l.toggleDevice("mobile"),l.closeSideBar(!0)):(l.toggleDevice("desktop"),e.value>=1200?l.openSideBar(!0):l.closeSideBar(!0))});function v(){l.closeSideBar(!1)}return(m,p)=>(i(),g("div",{class:H([f.value,"app-wrapper"])},[f.value.mobile&&f.value.openSidebar?(i(),g("div",{key:0,class:"drawer-bg",onClick:v})):I("",!0),n.value?I("",!0):(i(),g("div",No,[c(ze,{class:"sidebar-container"}),_("div",{class:H([{hasTagsView:a.value},"main-container"])},[_("div",{class:H({"fixed-header":r.value})},[c(s(Be)),a.value?(i(),T(s(Ae),{key:0})):I("",!0)],2),c(s(He))],2)])),n.value?(i(),g("div",{key:2,class:H({hasTopHeader:n.value})},[c(ze,{class:"sidebar-container",style:{top:"60px"}}),c(s(po)),_("div",{class:H([{hasTagsView:a.value},"main-container"])},[_("div",{class:H({"fixed-top-header":r.value})},[c(s(Be)),a.value?(i(),T(s(Ae),{key:0})):I("",!0)],2),c(s(He))],2)],2)):I("",!0),d.value?(i(),T(Ro,{key:3},{default:b(()=>[c(s(Zn))]),_:1})):I("",!0)],2))}});const xs=D(Uo,[["__scopeId","data-v-736c2cdd"]]);export{xs as default};
