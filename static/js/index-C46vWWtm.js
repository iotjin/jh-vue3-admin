import{m as et,n as ge,p as Ce,q as tt,l as be,s as nt,v as ot}from"./@vueuse-BThtamsc.js";import{_ as st}from"./index.vuevuetypescriptsetuptruelang-BAtVHMMG.js";import{b as ee,g as Oe,h as Ne,i as We,j as ce,k as at,l as lt,m as it,d as ct,n as rt,o as ut,a as dt,p as ft,q as mt,f as _t,r as Fe,s as ht,t as pt,u as vt}from"./element-plus-Bdn4kiSG.js";import{u as oe,S as Z,i as Ee,a as Se,_ as O,r as Me,b as gt,g as bt,c as wt,d as j,e as Ue}from"./index-DFeBoV3U.js";import{v as qe}from"./vue-i18n-B8qYdFXi.js";import{d as A,k as K,r as I,o as c,O as L,P as g,W as i,c as b,F as G,ab as J,u as s,U as D,V as E,a as m,ak as se,w as ne,l as ke,R as H,T as M,I as kt,a2 as $t,a4 as Q,bm as Te,bk as Le,ah as ae,a1 as re,Y as je,S as xt,aE as yt,f as ue,G as Ke,K as ie,e as Ge,Q as $e,X as xe,n as Be,j as Vt}from"./@vue-DBL8Ibom.js";import{I as ye}from"./@iconify-Q3rb5NkN.js";import{b as de,u as fe}from"./vue-router-fhvlCfPF.js";import{l as Ct}from"./lodash-es-Blijzk1b.js";import{c as St}from"./path-to-regexp-BzK_ZY7n.js";import{d as Ye,s as Ie}from"./pinia-7g9vQp6f.js";import{_ as Tt}from"./caret-bottom-B3c3ER9s.js";import{p as Xe}from"./path-browserify-mKPuiFSD.js";import"./async-validator-DKvM95Vc.js";import"./dayjs-C6J0yRL_.js";import"./@intlify-CHY6szXs.js";import"./@sxzz-D9SI2xQl.js";import"./@element-plus-BmjHI8io.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./crypto-js-CYDAzdEe.js";import"./axios-CCb-kr4I.js";import"./js-cookie-Cz0CWeBA.js";import"./vue-draggable-plus-BSvTyIk2.js";import"./nprogress-yi2QV7xY.js";import"./mockjs-DsSR4jwH.js";import"./vite-plugin-mock-CDJiH8Qs.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-rTnkxsfK.js";const Lt=A({__name:"index",setup(t){const e=oe(),{t:l}=qe.useI18n(),f=K(()=>r.value.map(h=>({label:h.value==="large"?l("navbar.sizeLarge"):h.value==="small"?l("navbar.sizeSmall"):l("navbar.sizeNormal"),value:h.value}))),r=I([{label:"默认",value:"default"},{label:"大型",value:"large"},{label:"小型",value:"small"}]);function a(h){e.changeSize(h),ee.success(l("navbar.sizeMsg"))}return(h,n)=>{const _=Z,v=Oe,u=Ne,d=We;return c(),L(d,{trigger:"click",onCommand:a},{dropdown:g(()=>[i(u,null,{default:g(()=>[(c(!0),b(G,null,J(s(f),x=>(c(),L(v,{key:x.value,disabled:s(e).size==x.value,command:x.value},{default:g(()=>[D(E(x.label),1)]),_:2},1032,["disabled","command"]))),128))]),_:1})]),default:g(()=>[m("div",null,[i(_,{"icon-class":"size"})])]),_:1})}}}),It={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Pt=m("path",{fill:"currentColor",d:"m795.904 750.72l124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704a352 352 0 0 0 0 704"},null,-1),Et=[Pt];function Mt(t,e){return c(),b("svg",It,[...Et])}const Bt=se({name:"ep-search",render:Mt});function X(t){return Ee.global.te("route."+t)?Ee.global.t("route."+t):t}const Ht={key:0,class:"search-list"},At=["onMouseenter"],Rt={class:"item-center"},Dt={class:"search-item-title"},zt={class:"footer"},Ot={class:"item-center"},Nt={class:"item-center"},Wt={class:"item-center"},Ft=A({__name:"NavSearch",setup(t){const e=Se(),l=I(!1),f=I(""),r=I(-1),a=I([]),h=de(),n=et(u,250),_=o=>o&&o.icon&&o.icon.includes(":"),v=o=>o&&o.icon&&!_(o);function u(o){const p=o==null?void 0:o.trim().toLocaleLowerCase();if(!p){a.value=[];return}a.value=d(Ct(e.routes),p),r.value=s(a).length>0?0:-1}function d(o,p,$){const w=[];return o.forEach(C=>{var P;C&&C.meta&&JSON.stringify(C.meta)!=="{}"&&(Object.assign(C.meta,{icon:C.meta.icon?C.meta.icon:$?$.meta.icon:"",title:$?`${X($.meta.title)} > ${X(C.meta.title)}`:X(C.meta.title)}),!C.meta.hidden&&C.meta.title.toLocaleLowerCase().includes(p)&&((P=C.children)!=null&&P.length||w.push(C)),!C.meta.hideChildren&&C.children&&w.push(...d(C.children,p,C)))}),w}function x(){s(a).length===0||s(r)<0||(l.value=!1,h.push({name:s(a)[s(r)].name}),T())}function y(o){r.value=Number(o)}function V(){a.value.length&&(r.value--,r.value<0&&(r.value=a.value.length-1))}function R(){a.value.length&&(r.value++,r.value>a.value.length-1&&(r.value=0))}function T(){f.value="",a.value=[]}return ge("Enter",x),ge("ArrowUp",V),ge("ArrowDown",R),ne(f,()=>{n(f.value)}),(o,p)=>{const $=Bt,w=ce,C=at,P=Z,z=lt,he=it,pe=ct;return c(),b(G,null,[i(w,{placement:"bottom",content:o.$t("navbar.search")},{default:g(()=>[m("div",{onClick:p[0]||(p[0]=N=>l.value=!0),class:"item-center"},[i($)])]),_:1},8,["content"]),i(pe,{modelValue:s(l),"onUpdate:modelValue":p[2]||(p[2]=N=>ke(l)?l.value=N:null),top:"10vh",title:"",class:"search-dialog","min-height":"200px",width:"750px","show-close":!1,closeOnPressEscape:"",onClosed:T},{footer:g(()=>[m("div",zt,[i(he,{size:10},{default:g(()=>[m("div",Ot,[i(P,{"icon-class":"confirm",class:"icon"}),m("span",null,E(o.$t("navbar.searchConfirm")),1)]),m("div",Nt,[i(P,{"icon-class":"up",class:"icon"}),i(P,{"icon-class":"down",class:"icon"}),m("span",null,E(o.$t("navbar.searchSwitch")),1)]),m("div",Wt,[i(P,{"icon-class":"esc",class:"icon"}),m("span",null,E(o.$t("navbar.searchClose")),1)])]),_:1})])]),default:g(()=>[i(C,{modelValue:s(f),"onUpdate:modelValue":p[1]||(p[1]=N=>ke(f)?f.value=N:null),placeholder:o.$t("navbar.searchPlaceholder"),size:"large",clearable:""},{prefix:g(()=>[i($)]),_:1},8,["modelValue","placeholder"]),s(a).length>0?(c(),b("div",Ht,[(c(!0),b(G,null,J(s(a),(N,le)=>(c(),b("div",{class:H(["search-item item-center",{active:le===s(r)}]),key:N.name,onClick:x,onMouseenter:Pe=>y(le)},[m("div",Rt,[_(N.meta)?(c(),L(s(ye),{key:0,icon:N.meta.icon,style:{"font-size":"20px"}},null,8,["icon"])):M("",!0),v(N.meta)?(c(),L(P,{key:1,"icon-class":N.meta.icon},null,8,["icon-class"])):M("",!0),m("span",Dt,E(N.meta.title),1)]),i(P,{"icon-class":"confirm"})],42,At))),128))])):(c(),L(z,{key:1,description:o.$t("navbar.searchEmpty"),"image-size":64},null,8,["description"]))]),_:1},8,["modelValue"])],64)}}}),Ut=O(Ft,[["__scopeId","data-v-89df27df"]]),qt={key:0,class:"text-[var(--el-disabled-text-color)]"},jt=["onClick"],Kt=A({__name:"index",setup(t){const e=fe(),l=n=>{const{params:_}=e;return St(n)(_)},f=I([]);function r(){let n=e.matched.filter(v=>v.meta&&v.meta.title);const _=n[0];a(_)||(n=[{path:"/dashboard",meta:{title:"dashboard"}}].concat(n)),f.value=n.filter(v=>v.meta&&v.meta.title&&v.meta.breadcrumb!==!1)}function a(n){const _=n&&n.name;return _?_.toString().trim().toLocaleLowerCase()==="Dashboard".toLocaleLowerCase():!1}function h(n){const{redirect:_,path:v}=n;if(_){Me.push(_).catch(u=>{console.warn(u)});return}Me.push(l(v)).catch(u=>{console.warn(u)})}return ne(()=>e.path,n=>{n.startsWith("/redirect/")||r()}),kt(()=>{r()}),(n,_)=>{const v=rt,u=ut;return c(),L(u,{class:"h-[50px] flex items-center"},{default:g(()=>[i($t,{name:"breadcrumb"},{default:g(()=>[(c(!0),b(G,null,J(f.value,(d,x)=>(c(),L(v,{key:d.path},{default:g(()=>[d.redirect==="noredirect"||x===f.value.length-1?(c(),b("span",qt,E(s(X)(d.meta.title)),1)):(c(),b("a",{key:1,onClick:Q(y=>h(d),["prevent"])},E(s(X)(d.meta.title)),9,jt))]),_:2},1024))),128))]),_:1})]),_:1})}}}),Gt=O(Kt,[["__scopeId","data-v-b88176e2"]]),Yt=t=>(Te("data-v-3415bc80"),t=t(),Le(),t),Xt=Yt(()=>m("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"},null,-1)),Jt=[Xt],Qt=A({__name:"index",props:{isActive:{required:!0,type:Boolean,default:!1}},emits:["toggleClick"],setup(t,{emit:e}){const l=Ce(),f=e;function r(){f("toggleClick")}return(a,h)=>(c(),b("div",{class:H(["hamburger-container",{dark:s(l)}]),onClick:r},[(c(),b("svg",{class:H([{"is-active":t.isActive},"hamburger"]),viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",style:{color:"#fff !important"}},Jt,2))],2))}}),Zt=O(Qt,[["__scopeId","data-v-3415bc80"]]),me=Ye("tagsView",()=>{const t=I([]),e=I([]);function l(o){var p,$;t.value.some(w=>w.path===o.path)||(o.meta&&o.meta.affix?t.value.unshift(Object.assign({},o,{title:((p=o.meta)==null?void 0:p.title)||"no-name"})):t.value.push(Object.assign({},o,{title:(($=o.meta)==null?void 0:$.title)||"no-name"})))}function f(o){var $;const p=o.name;e.value.includes(p)||($=o.meta)!=null&&$.keepAlive&&e.value.push(p)}function r(o){return new Promise(p=>{for(const[$,w]of t.value.entries())if(w.path===o.path){t.value.splice($,1);break}p([...t.value])})}function a(o){const p=o.name;return new Promise($=>{const w=e.value.indexOf(p);w>-1&&e.value.splice(w,1),$([...e.value])})}function h(o){return new Promise(p=>{t.value=t.value.filter($=>{var w;return((w=$.meta)==null?void 0:w.affix)||$.path===o.path}),p([...t.value])})}function n(o){const p=o.name;return new Promise($=>{const w=e.value.indexOf(p);w>-1?e.value=e.value.slice(w,w+1):e.value=[],$([...e.value])})}function _(o){for(let p of t.value)if(p.path===o.path){p=Object.assign(p,o);break}}function v(o){l(o),f(o)}function u(o){return new Promise(p=>{r(o),a(o),p({visitedViews:[...t.value],cachedViews:[...e.value]})})}function d(o){return new Promise(p=>{h(o),n(o),p({visitedViews:[...t.value],cachedViews:[...e.value]})})}function x(o){return new Promise(p=>{const $=t.value.findIndex(w=>w.path===o.path);$!==-1&&(t.value=t.value.filter((w,C)=>{if(C>=$||w.meta&&w.meta.affix)return!0;const P=e.value.indexOf(w.name);return P>-1&&e.value.splice(P,1),!1}),p({visitedViews:[...t.value]}))})}function y(o){return new Promise(p=>{const $=t.value.findIndex(w=>w.path===o.path);$!==-1&&(t.value=t.value.filter((w,C)=>{if(C<=$||w.meta&&w.meta.affix)return!0;const P=e.value.indexOf(w.name);return P>-1&&e.value.splice(P,1),!1}),p({visitedViews:[...t.value]}))})}function V(){return new Promise(o=>{const p=t.value.filter($=>{var w;return(w=$.meta)==null?void 0:w.affix});t.value=p,e.value=[],o({visitedViews:[...t.value],cachedViews:[...e.value]})})}function R(){return new Promise(o=>{const p=t.value.filter($=>{var w;return(w=$.meta)==null?void 0:w.affix});t.value=p,o([...t.value])})}function T(){return new Promise(o=>{e.value=[],o([...e.value])})}return{visitedViews:t,cachedViews:e,addVisitedView:l,addCachedView:f,delVisitedView:r,delCachedView:a,delOtherVisitedViews:h,delOtherCachedViews:n,updateVisitedView:_,addView:v,delView:u,delOtherViews:d,delLeftViews:x,delRightViews:y,delAllViews:V,delAllVisitedViews:R,delAllCachedViews:T}}),en={class:"app-container"},tn={class:"avatar-container"},nn=["src"],on={key:0,class:"user-name"},sn=["href"],an=["href"],ln=A({__name:"UserInfo",props:{hasTopHeader:{required:!1,type:Boolean,default:!1}},setup(t){const{t:e}=qe.useI18n(),l=me(),f=gt(),r=fe(),a=de();function h(){dt.confirm(e("logout.message"),e("logout.title"),{confirmButtonText:e("logout.confirmButtonText"),cancelButtonText:e("logout.cancelButtonText"),type:"warning"}).then(()=>{f.logout().then(()=>{l.delAllViews()}).then(()=>{a.push(`/login?redirect=${r.fullPath}`)})})}return(n,_)=>{const v=Tt,u=Oe,d=ae("router-link"),x=Ne,y=We;return c(),b("div",en,[i(y,{trigger:"click"},{dropdown:g(()=>[i(x,null,{default:g(()=>[i(d,{to:"/"},{default:g(()=>[i(u,null,{default:g(()=>[D(E(n.$t("navbar.dashboard")),1)]),_:1})]),_:1}),m("a",{target:"_blank",href:s(bt)},[i(u,null,{default:g(()=>[D("Github")]),_:1})],8,sn),m("a",{target:"_blank",href:s(wt)},[i(u,null,{default:g(()=>[D(E(n.$t("navbar.document")),1)]),_:1})],8,an),i(u,{divided:"",onClick:h},{default:g(()=>[D(E(n.$t("navbar.logout")),1)]),_:1})]),_:1})]),default:g(()=>[m("div",tn,[m("img",{class:"user-avatar",src:s(f).avatar+"?imageView2/1/w/80/h/80"},null,8,nn),t.hasTopHeader?(c(),b("div",on,E(s(f).nickname),1)):M("",!0),i(v,{style:re({color:t.hasTopHeader?"white":"black"})},null,8,["style"])])]),_:1})])}}}),Je=O(ln,[["__scopeId","data-v-6c90ef02"]]),cn={class:"navbar"},rn={class:"flex"},un={class:"flex"},dn={key:0,class:"setting-container"},fn={class:"setting-item item-center"},mn=A({__name:"Navbar",setup(t){const e=oe(),{device:l}=Ie(e);function f(){e.toggleSidebar(!0)}const{isFullscreen:r,toggle:a}=tt();return(h,n)=>{const _=Zt,v=Gt,u=Ut,d=Z,x=ce,y=Lt,V=st;return c(),b("div",cn,[m("div",rn,[i(_,{"is-active":s(e).sidebar.opened,onToggleClick:f},null,8,["is-active"]),i(v)]),m("div",un,[s(l)!=="mobile"?(c(),b("div",dn,[m("div",fn,[i(u)]),i(x,{content:h.$t(s(r)?"navbar.exitFull":"navbar.entryFull"),effect:"dark",placement:"bottom"},{default:g(()=>[m("div",{class:"setting-item",onClick:n[0]||(n[0]=(...R)=>s(a)&&s(a)(...R))},[i(d,{"icon-class":s(r)?"exit-fullscreen":"fullscreen"},null,8,["icon-class"])])]),_:1},8,["content"]),i(x,{content:h.$t("navbar.layoutSize"),effect:"dark",placement:"bottom"},{default:g(()=>[i(y,{class:"setting-item"})]),_:1},8,["content"]),i(V,{class:"setting-item"})])):M("",!0),i(Je)])])}}}),He=O(mn,[["__scopeId","data-v-249f0e9e"]]),_n={class:"app-main"},hn=A({__name:"AppMain",setup(t){const e=me();return(l,f)=>{const r=ae("router-view");return c(),b("section",_n,[i(r,null,{default:g(({Component:a,route:h})=>[i(je,{name:"router-fade",mode:"out-in"},{default:g(()=>[(c(),L(yt,{include:s(e).cachedViews},[(c(),L(xt(a),{key:h.fullPath}))],1032,["include"]))]),_:2},1024)]),_:1})])}}}),Ae=O(hn,[["__scopeId","data-v-14e054ed"]]),pn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},vn=m("path",{fill:"currentColor",d:"M406.656 706.944L195.84 496.256a32 32 0 1 0-45.248 45.248l256 256l512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),gn=[vn];function bn(t,e){return c(),b("svg",pn,[...gn])}const wn=se({name:"ep-check",render:bn}),_e=Ye("setting",()=>{const t=be("tagsView",j.tagsView),e=I(j.showSettings),l=I(j.fixedHeader),f=I(j.sidebarLogo),r=I(j.topHeader),a=be("themeColor",j.themeColor),h=be("layout",j.layout);function n(_){const{key:v,value:u}=_;switch(v){case"showSettings":e.value=u;break;case"fixedHeader":l.value=u;break;case"tagsView":t.value=u;break;case"sidevarLogo":f.value=u;break;case"themeColor":a.value=u;break;case"layout":h.value=u;break}}return{showSettings:e,tagsView:t,fixedHeader:l,sidebarLogo:f,topHeader:r,themeColor:a,layout:h,changeSetting:n}});function te(){return{hexToRgb:r=>{let a="";if(!/^\#?[0-9A-Fa-f]{6}$/.test(r))return ee.warning("输入错误的hex"),"";r=r.replace("#",""),a=r.match(/../g);for(let n=0;n<3;n++)a[n]=parseInt(a[n],16);return a},rgbToHex:(r,a,h)=>{let n=/^\d{1,3}$/;if(!n.test(r)||!n.test(a)||!n.test(h))return ee.warning("输入错误的rgb颜色值"),"";let _=[r.toString(16),a.toString(16),h.toString(16)];for(let v=0;v<3;v++)_[v].length==1&&(_[v]=`0${_[v]}`);return`#${_.join("")}`},getDarkColor:(r,a)=>{if(!/^\#?[0-9A-Fa-f]{6}$/.test(r))return ee.warning("输入错误的hex颜色值"),"";let n=te().hexToRgb(r);for(let _=0;_<3;_++)n[_]=Math.floor(n[_]*(1-a));return te().rgbToHex(n[0],n[1],n[2])},getLightColor:(r,a)=>{if(!/^\#?[0-9A-Fa-f]{6}$/.test(r))return ee.warning("输入错误的hex颜色值"),"";let n=te().hexToRgb(r);for(let _=0;_<3;_++)n[_]=Math.floor((255-n[_])*a+n[_]);return te().rgbToHex(n[0],n[1],n[2])}}}const kn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},$n=m("path",{fill:"currentColor",d:"M512 704a192 192 0 1 0 0-384a192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512a256 256 0 0 1 0 512m0-704a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 768a32 32 0 0 1 32 32v64a32 32 0 1 1-64 0v-64a32 32 0 0 1 32-32M195.2 195.2a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 1 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248m543.104 543.104a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 0 1-45.248 45.248l-45.248-45.248a32 32 0 0 1 0-45.248M64 512a32 32 0 0 1 32-32h64a32 32 0 0 1 0 64H96a32 32 0 0 1-32-32m768 0a32 32 0 0 1 32-32h64a32 32 0 1 1 0 64h-64a32 32 0 0 1-32-32M195.2 828.8a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248L240.448 828.8a32 32 0 0 1-45.248 0m543.104-543.104a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248l-45.248 45.248a32 32 0 0 1-45.248 0"},null,-1),xn=[$n];function yn(t,e){return c(),b("svg",kn,[...xn])}const Vn=se({name:"ep-sunny",render:yn}),Cn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Sn=m("path",{fill:"currentColor",d:"M240.448 240.448a384 384 0 1 0 559.424 525.696a448 448 0 0 1-542.016-542.08a391 391 0 0 0-17.408 16.384m181.056 362.048a384 384 0 0 0 525.632 16.384A448 448 0 1 1 405.056 76.8a384 384 0 0 0 16.448 525.696"},null,-1),Tn=[Sn];function Ln(t,e){return c(),b("svg",Cn,[...Tn])}const In=se({name:"ep-moon",render:Ln}),q=t=>(Te("data-v-379826c9"),t=t(),Le(),t),Pn={class:"drawer-container"},En=q(()=>m("h3",{class:"drawer-title"},"项目配置",-1)),Mn={class:"drawer-item"},Bn=q(()=>m("span",{class:"text"},"开启 Tags-View",-1)),Hn={class:"drawer-item"},An=q(()=>m("span",{class:"text"},"固定 Header",-1)),Rn={class:"drawer-item"},Dn=q(()=>m("span",{class:"text"},"侧边栏 Logo",-1)),zn={class:"drawer-item"},On=q(()=>m("span",{class:"text"},"开启 Top-Header",-1)),Nn={class:"drawer-theme"},Wn=["onClick"],Fn={class:"layout"},Un=q(()=>m("div",null,null,-1)),qn=q(()=>m("div",null,null,-1)),jn=[Un,qn],Kn=q(()=>m("div",null,null,-1)),Gn=q(()=>m("div",null,null,-1)),Yn=[Kn,Gn],Xn=q(()=>m("div",null,null,-1)),Jn=q(()=>m("div",null,null,-1)),Qn=[Xn,Jn],Zn=A({__name:"index",setup(t){const e=_e(),l=Ce(),f=()=>nt(l),{getLightColor:r,getDarkColor:a}=te();function h(u){e.changeSetting({key:"layout",value:u}),window.document.body.setAttribute("layout",e.layout)}const n=I(["#409EFF","#304156","#11a983","#13c2c2","#6959CD","#f5222d"]);function _(u){document.documentElement.style.setProperty("--el-color-primary",u),document.documentElement.style.setProperty("--el-color-primary-dark-2",`${a(u,.1)}`);for(let d=1;d<=9;d++)document.documentElement.style.setProperty(`--el-color-primary-light-${d}`,`${r(u,d/10)}`);e.changeSetting({key:"themeColor",value:u})}ue(()=>{_(e.themeColor),window.document.body.setAttribute("layout",e.layout)});const v=u=>{const d=e.themeColor;return u===d?"#fff":"transparent"};return(u,d)=>{const x=ft,y=mt,V=wn,R=_t,T=ce;return c(),b("div",Pn,[En,i(x,null,{default:g(()=>[D("主题")]),_:1}),m("div",{class:"drawer-switch",onClick:d[1]||(d[1]=Q(()=>{},["stop"]))},[i(y,{modelValue:s(l),"onUpdate:modelValue":d[0]||(d[0]=o=>ke(l)?l.value=o:null),"inline-prompt":"","active-icon":s(In),"inactive-icon":s(Vn),"active-color":"var(--el-fill-color-dark)","inactive-color":"var(--el-color-primary)",onChange:f},null,8,["modelValue","active-icon","inactive-icon"])]),i(x,null,{default:g(()=>[D("界面设置")]),_:1}),m("div",Mn,[Bn,i(y,{modelValue:s(e).tagsView,"onUpdate:modelValue":d[2]||(d[2]=o=>s(e).tagsView=o)},null,8,["modelValue"])]),m("div",Hn,[An,i(y,{modelValue:s(e).fixedHeader,"onUpdate:modelValue":d[3]||(d[3]=o=>s(e).fixedHeader=o)},null,8,["modelValue"])]),m("div",Rn,[Dn,i(y,{modelValue:s(e).sidebarLogo,"onUpdate:modelValue":d[4]||(d[4]=o=>s(e).sidebarLogo=o)},null,8,["modelValue"])]),m("div",zn,[On,i(y,{modelValue:s(e).topHeader,"onUpdate:modelValue":d[5]||(d[5]=o=>s(e).topHeader=o)},null,8,["modelValue"])]),i(x,null,{default:g(()=>[D("主题颜色")]),_:1}),m("ul",Nn,[(c(!0),b(G,null,J(s(n),(o,p)=>(c(),b("li",{key:p,class:"drawer-theme-item",style:re({background:o}),onClick:$=>_(o)},[i(R,{size:17,color:v(o),class:"check-icon"},{default:g(()=>[i(V)]),_:2},1032,["color"])],12,Wn))),128))]),i(x,null,{default:g(()=>[D("导航设置")]),_:1}),m("ul",Fn,[i(T,{content:"左侧模式",placement:"bottom"},{default:g(()=>[m("li",{class:H("layout-item layout-left "+(s(e).layout=="left"?"is-active":"")),onClick:d[6]||(d[6]=o=>h("left"))},jn,2)]),_:1}),i(T,{content:"顶部模式",placement:"bottom"},{default:g(()=>[m("li",{class:H("layout-item layout-top "+(s(e).layout=="top"?"is-active":"")),onClick:d[7]||(d[7]=o=>h("top"))},Yn,2)]),_:1}),i(T,{content:"混合模式",placement:"bottom"},{default:g(()=>[m("li",{class:H("layout-item layout-mix "+(s(e).layout=="mix"?"is-active":"")),onClick:d[8]||(d[8]=o=>h("mix"))},Qn,2)]),_:1})])])}}}),eo=O(Zn,[["__scopeId","data-v-379826c9"]]),to=A({__name:"ScrollPane",emits:["scroll"],setup(t,{expose:e,emit:l}){const f=I(4),{proxy:r}=Ge(),a=l,h=()=>{a("scroll")},n=me(),_=K(()=>r==null?void 0:r.$refs.scrollContainer.$refs.wrapRef);ue(()=>{_.value.addEventListener("scroll",h,!0)}),Ke(()=>{_.value.removeEventListener("scroll",h)});function v(d){const x=d.wheelDelta||-d.deltaY*40;_.value.scrollLeft=_.value.scrollLeft+x/4}function u(d){const y=r.$refs.scrollContainer.$el.offsetWidth,V=_.value;let R=null,T=null;if(n.visitedViews.length>0&&(R=n.visitedViews[0],T=n.visitedViews[n.visitedViews.length-1]),R===d)V.scrollLeft=0;else if(T===d)V.scrollLeft=V.scrollWidth-y;else{const o=document.getElementsByClassName("tags-item"),p=n.visitedViews.findIndex(z=>z===d);let $=null,w=null;for(const z in o)z!=="length"&&Object.hasOwnProperty.call(o,z)&&(o[z].dataset.path===n.visitedViews[p-1].path&&($=o[z]),o[z].dataset.path===n.visitedViews[p+1].path&&(w=o[z]));const C=w.offsetLeft+w.offsetWidth+f.value,P=$.offsetLeft-f.value;C>V.scrollLeft+y?V.scrollLeft=C-y:P<V.scrollLeft&&(V.scrollLeft=P)}}return e({moveToTarget:u}),(d,x)=>{const y=Fe;return c(),L(y,{ref:"scrollContainer",class:"scroll-container",vertical:!1,onWheel:Q(v,["prevent"])},{default:g(()=>[ie(d.$slots,"default",{},void 0,!0)]),_:3},512)}}}),no=O(to,[["__scopeId","data-v-69cdbe12"]]),oo={class:"tags-container"},so=["onClick"],ao=A({__name:"index",setup(t){const{proxy:e}=Ge(),l=de(),f=fe(),r=Se(),a=me(),{visitedViews:h}=Ie(a),n=I({}),_=I(),v=I(0),u=I(0),d=I([]);ne(f,()=>{R(),T()},{immediate:!0});const x=I(!1);ne(x,k=>{k?document.body.addEventListener("click",ve):document.body.removeEventListener("click",ve)});function y(k,S="/"){let W=[];return k.forEach(U=>{if(U.meta&&U.meta.affix){const F=Xe.resolve(S,U.path);W.push({fullPath:F,path:F,name:U.name,meta:{...U.meta}})}if(U.children){const F=y(U.children,U.path);F.length>=1&&(W=W.concat(F))}}),W}function V(){const k=y(r.routes);d.value=k;for(const S of k)S.name&&a.addVisitedView(S)}function R(){f.name&&a.addView(f)}function T(){Be(()=>{for(const k of a.visitedViews)k.path===f.path&&(_.value.moveToTarget(k),k.fullPath!==f.fullPath&&a.updateVisitedView(f))})}function o(k){return k.path===f.path}function p(k){return k.meta&&k.meta.affix}function $(){try{return n.value.fullPath===a.visitedViews[1].fullPath||n.value.fullPath==="/index"}catch{return!1}}function w(){try{return n.value.fullPath===a.visitedViews[a.visitedViews.length-1].fullPath}catch{return!1}}function C(k){a.delCachedView(k);const{fullPath:S}=k;Be(()=>{l.replace({path:"/redirect"+S}).catch(W=>{console.warn(W)})})}function P(k,S){const W=k.slice(-1)[0];W&&W.fullPath?l.push(W.fullPath):S.name==="Dashboard"?l.replace({path:"/redirect"+S.fullPath}):l.push("/")}function z(k){a.delView(k).then(S=>{o(k)&&P(S.visitedViews,k)})}function he(){a.delLeftViews(n.value).then(k=>{k.visitedViews.find(S=>S.fullPath===f.fullPath)||P(k.visitedViews)})}function pe(){a.delRightViews(n.value).then(k=>{k.visitedViews.find(S=>S.fullPath===f.fullPath)||P(k.visitedViews)})}function N(){l.push(n.value),a.delOtherViews(n.value).then(()=>{T()})}function le(k){a.delAllViews().then(S=>{P(S.visitedViews,k)})}function Pe(k,S){const U=e==null?void 0:e.$el.getBoundingClientRect().left,B=(e==null?void 0:e.$el.offsetWidth)-105,Y=S.clientX-U+15;Y>B?v.value=B:v.value=Y,u.value=S.clientY,x.value=!0,n.value=k}function ve(){x.value=!1}function Ze(){ve()}return ue(()=>{V()}),(k,S)=>{const W=Ue,U=ae("router-link"),F=Z;return c(),b("div",oo,[i(no,{ref_key:"scrollPaneRef",ref:_,onScroll:Ze},{default:g(()=>[(c(!0),b(G,null,J(s(h),B=>(c(),L(U,{key:B.path,class:H("tags-item "+(o(B)?"active":"")),"data-path":B.path,to:{path:B.path,query:B.query},onMouseup:Q(Y=>p(B)?"":z(B),["middle"]),onContextmenu:Q(Y=>Pe(B,Y),["prevent"])},{default:g(()=>{var Y;return[D(E(s(X)((Y=B.meta)==null?void 0:Y.title))+" ",1),p(B)?M("",!0):(c(),b("span",{key:0,class:"tags-item-close",onClick:Q(Oo=>z(B),["prevent","stop"])},[i(W,{style:{"font-size":"12px"}})],8,so))]}),_:2},1032,["class","data-path","to","onMouseup","onContextmenu"]))),128))]),_:1},512),$e(m("ul",{class:"tag-menu",style:re({left:v.value+"px",top:u.value+"px"})},[m("li",{onClick:S[0]||(S[0]=B=>C(n.value))},[i(F,{"icon-class":"refresh"}),D(" "+E(k.$t("tagsView.refresh")),1)]),p(n.value)?M("",!0):(c(),b("li",{key:0,onClick:S[1]||(S[1]=B=>z(n.value))},[i(F,{"icon-class":"close"}),D(" "+E(k.$t("tagsView.close")),1)])),m("li",{onClick:N},[i(F,{"icon-class":"close_other"}),D(" "+E(k.$t("tagsView.closeOthers")),1)]),$()?M("",!0):(c(),b("li",{key:1,onClick:he},[i(F,{"icon-class":"close_left"}),D(" "+E(k.$t("tagsView.closeLeft")),1)])),w()?M("",!0):(c(),b("li",{key:2,onClick:pe},[i(F,{"icon-class":"close_right"}),D(" "+E(k.$t("tagsView.closeRight")),1)])),m("li",{onClick:S[2]||(S[2]=B=>le(n.value))},[i(F,{"icon-class":"close_all"}),D(" "+E(k.$t("tagsView.closeAll")),1)])],4),[[xe,x.value]])])}}}),Re=O(ao,[["__scopeId","data-v-cb2d45c9"]]),lo={class:"top-header bgImage"},io={class:"header"},co={class:"left"},ro={class:"right"},uo=A({__name:"TopHeader",setup(t){const e=I("Vue3在线管理系统");return(l,f)=>(c(),b("div",lo,[m("div",io,[m("div",co,E(s(e)),1),m("div",ro,[i(Je,{hasTopHeader:""})])])]))}}),fo=O(uo,[["__scopeId","data-v-1010086c"]]);function Qe(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function mo(t,e){Qe(t,e)||(t.className+=" "+e)}function _o(t,e){if(Qe(t,e)){const l=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(l," ")}}function Ve(t){return/^(https?:|http?:|mailto:|tel:)/.test(t)}const ho=["href"],po=A({__name:"Link",props:{to:{type:String,required:!0}},setup(t){const e=oe(),l=K(()=>e.sidebar),f=K(()=>e.device),r=t,a=de();function h(){f.value==="mobile"&&l.value.opened==!0&&e.closeSideBar(!1),a.push(r.to).catch(n=>{console.error(n)})}return(n,_)=>s(Ve)(t.to)?(c(),b("a",{key:0,href:t.to,target:"_blank",rel:"noopener"},[ie(n.$slots,"default")],8,ho)):(c(),b("div",{key:1,onClick:h},[ie(n.$slots,"default")]))}}),vo={key:0},go=A({__name:"SidebarItem",props:{item:{type:Object,required:!0},basePath:{type:String,required:!0},isCollapse:{type:Boolean,default:!1}},setup(t){const e=t,l=I(),f=u=>u&&u.icon&&u.icon.includes(":"),r=u=>u&&u.icon&&!f(u),a=u=>{const d=u||window.event;return!(y=>{const V=y,R=V.getBoundingClientRect().width,T=document.createRange();return T.setStart(V,0),T.setEnd(V,V.childNodes.length),T.getBoundingClientRect().width>R})(d.target)};let h=I(!0);const n=u=>{h.value=a(u)};function _(u=[],d){const x=u.filter(y=>{var V;return(V=y.meta)!=null&&V.hidden?!1:(l.value=y,!0)});return x.length===1?!0:x.length===0?(l.value={...d,path:"",noShowingChildren:!0},!0):!1}function v(u){return Ve(u)?u:Ve(e.basePath)?e.basePath:Xe.resolve(e.basePath,u)}return(u,d)=>{const x=ht,y=ce,V=ae("sidebar-item",!0),R=pt;return!t.item.meta||!t.item.meta.hidden?(c(),b("div",vo,[_(t.item.children,t.item)&&(!s(l).children||s(l).noShowingChildren)?(c(),b(G,{key:0},[s(l).meta?(c(),L(po,{key:0,to:v(s(l).path)},{default:g(()=>[i(y,{effect:"dark",disabled:s(h),content:s(l).meta.title,placement:"right",offset:12,enterable:!0},{default:g(()=>[i(x,{index:v(s(l).path),class:H({"menu-item-custom":t.isCollapse})},{title:g(()=>[m("span",{class:"sle",onMouseenter:d[0]||(d[0]=T=>n(T))},E(s(X)(s(l).meta.title)),33)]),default:g(()=>[f(s(l).meta)?(c(),L(s(ye),{key:0,icon:s(l).meta.icon,class:"svg-icon"},null,8,["icon"])):M("",!0),r(s(l).meta)?(c(),L(Z,{key:1,"icon-class":s(l).meta.icon},null,8,["icon-class"])):M("",!0)]),_:1},8,["index","class"])]),_:1},8,["disabled","content"])]),_:1},8,["to"])):M("",!0)],64)):(c(),L(R,{key:1,index:v(t.item.path),teleported:""},{title:g(()=>[f(t.item.meta)?(c(),L(s(ye),{key:0,icon:t.item.meta.icon,class:"svg-icon"},null,8,["icon"])):M("",!0),r(t.item.meta)?(c(),L(Z,{key:1,"icon-class":t.item.meta.icon},null,8,["icon-class"])):M("",!0),i(y,{effect:"dark",disabled:s(h),content:s(l).meta.title,placement:"right",offset:12,enterable:!0},{default:g(()=>[t.item.meta&&t.item.meta.title?(c(),b("span",{key:0,class:"sle",onMouseenter:d[1]||(d[1]=T=>n(T))},E(s(X)(t.item.meta.title)),33)):M("",!0)]),_:1},8,["disabled","content"])]),default:g(()=>[(c(!0),b(G,null,J(t.item.children,T=>(c(),L(V,{key:T.path,item:T,"base-path":v(T.path)},null,8,["item","base-path"]))),128))]),_:1},8,["index"]))])):M("",!0)}}}),bo=O(go,[["__scopeId","data-v-ff839fc9"]]),wo={key:1,class:"sidebar-title"},ko={class:"sidebar-title"},De="https://wpimg.wallstcn.com/69a1c46c-eb1c-4b46-8bd4-e9e686ef5251.png",$o=A({__name:"Logo",props:{collapse:{type:Boolean,required:!0}},setup(t){const e=_e(),l=Ce();return(f,r)=>{const a=ae("router-link");return c(),b("div",{class:H(["sidebar-logo-container",{collapse:t.collapse,"dark-bg":s(l)}])},[i(je,{name:"sidebarLogoFade"},{default:g(()=>[t.collapse?(c(),L(a,{key:"collapse",class:"sidebar-logo-link",to:"/"},{default:g(()=>[s(e).sidebarLogo?(c(),b("img",{key:0,src:De,class:"sidebar-logo"})):(c(),b("h1",wo,E(s(j).title),1))]),_:1})):(c(),L(a,{key:"expand",class:"sidebar-logo-link",to:"/"},{default:g(()=>[s(e).sidebarLogo?(c(),b("img",{key:0,src:De,class:"sidebar-logo"})):M("",!0),m("h1",ko,E(s(j).title),1)]),_:1}))]),_:1})],2)}}}),xo=O($o,[["__scopeId","data-v-0b384a40"]]),yo="var(--menuBg)",Vo="var(--menuText)",Co="var(--menuActiveText)",we={menuBg:yo,menuText:Vo,menuActiveText:Co},ze=A({__name:"index",setup(t){const e=_e(),l=Se(),f=oe(),r=fe(),{sidebarLogo:a}=Ie(e);return(h,n)=>{const _=vt,v=Fe;return c(),b("div",{class:H({"has-logo":s(a)})},[s(a)?(c(),L(xo,{key:0,collapse:!s(f).sidebar.opened},null,8,["collapse"])):M("",!0),i(v,null,{default:g(()=>[i(_,{"default-active":s(r).path,collapse:!s(f).sidebar.opened,"background-color":s(we).menuBg,"text-color":s(we).menuText,"active-text-color":s(we).menuActiveText,"unique-opened":!1,"collapse-transition":!1,mode:"vertical"},{default:g(()=>[(c(!0),b(G,null,J(s(l).routes,u=>(c(),L(bo,{key:u.path,item:u,"base-path":u.path,"is-collapse":!s(f).sidebar.opened},null,8,["item","base-path","is-collapse"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color"])]),_:1})],2)}}}),So={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},To=m("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357 357 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a352 352 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357 357 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088l-24.512 11.968a294 294 0 0 0-34.816 20.096l-22.656 15.36l-116.224-25.088l-65.28 113.152l79.68 88.192l-1.92 27.136a293 293 0 0 0 0 40.192l1.92 27.136l-79.808 88.192l65.344 113.152l116.224-25.024l22.656 15.296a294 294 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152l24.448-11.904a288 288 0 0 0 34.752-20.096l22.592-15.296l116.288 25.024l65.28-113.152l-79.744-88.192l1.92-27.136a293 293 0 0 0 0-40.256l-1.92-27.136l79.808-88.128l-65.344-113.152l-116.288 24.96l-22.592-15.232a288 288 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384a192 192 0 0 1 0-384m0 64a128 128 0 1 0 0 256a128 128 0 0 0 0-256"},null,-1),Lo=[To];function Io(t,e){return c(),b("svg",So,[...Lo])}const Po=se({name:"ep-setting",render:Io}),Eo=t=>(Te("data-v-cb8c5906"),t=t(),Le(),t),Mo=Eo(()=>m("div",{class:"right-panel-overlay"},null,-1)),Bo={class:"right-panel-container"},Ho=A({__name:"index",props:{buttonTop:{default:300,type:Number}},setup(t){const e=I(!1);ne(e,h=>{h&&l(),h?mo(document.body,"showRightPanel"):_o(document.body,"showRightPanel")});function l(){window.addEventListener("click",f,{passive:!0})}function f(h){h.target.closest(".right-panel-container")||(e.value=!1,window.removeEventListener("click",f))}const r=I();function a(){const h=document.querySelector("body");h.insertBefore(r.value,h.firstChild)}return ue(()=>{a()}),Ke(()=>{r.value.remove()}),(h,n)=>{const _=Ue,v=Po;return c(),b("div",{ref_key:"rightPanel",ref:r,class:H({show:e.value})},[Mo,m("div",Bo,[m("div",{class:"right-panel-btn",style:re({top:t.buttonTop+"px"}),onClick:n[0]||(n[0]=u=>e.value=!e.value)},[$e(i(_,null,null,512),[[xe,e.value]]),$e(i(v,null,null,512),[[xe,!e.value]])],4),m("div",null,[ie(h.$slots,"default",{},void 0,!0)])])],2)}}}),Ao=O(Ho,[["__scopeId","data-v-cb8c5906"]]),Ro={key:1},Do=992,zo=A({__name:"index",setup(t){const{width:e}=ot(),l=oe(),f=_e(),r=K(()=>f.fixedHeader),a=K(()=>f.tagsView),h=K(()=>f.showSettings),n=K(()=>f.topHeader),_=K(()=>({hideSidebar:!l.sidebar.opened,openSidebar:l.sidebar.opened,withoutAnimation:l.sidebar.withoutAnimation,mobile:l.device==="mobile"}));Vt(()=>{e.value<Do?(l.toggleDevice("mobile"),l.closeSideBar(!0)):(l.toggleDevice("desktop"),e.value>=1200?l.openSideBar(!0):l.closeSideBar(!0))});function v(){l.closeSideBar(!1)}return(u,d)=>(c(),b("div",{class:H([_.value,"app-wrapper"])},[_.value.mobile&&_.value.openSidebar?(c(),b("div",{key:0,class:"drawer-bg",onClick:v})):M("",!0),n.value?M("",!0):(c(),b("div",Ro,[i(ze,{class:"sidebar-container"}),m("div",{class:H([{hasTagsView:a.value},"main-container"])},[m("div",{class:H({"fixed-header":r.value})},[i(s(He)),a.value?(c(),L(s(Re),{key:0})):M("",!0)],2),i(s(Ae))],2)])),n.value?(c(),b("div",{key:2,class:H({hasTopHeader:n.value})},[i(ze,{class:"sidebar-container",style:{top:"60px"}}),i(s(fo)),m("div",{class:H([{hasTagsView:a.value},"main-container"])},[m("div",{class:H({"fixed-top-header":r.value})},[i(s(He)),a.value?(c(),L(s(Re),{key:0})):M("",!0)],2),i(s(Ae))],2)],2)):M("",!0),h.value?(c(),L(Ao,{key:3},{default:g(()=>[i(s(eo))]),_:1})):M("",!0)],2))}}),ps=O(zo,[["__scopeId","data-v-7bb2257a"]]);export{ps as default};
