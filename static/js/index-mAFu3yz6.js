import{m as Ze,n as pe,p as ye,q as et,l as ve,s as tt,v as nt}from"./@vueuse-C4lJNpQw.js";import{_ as ot}from"./index.vuevuetypescriptsetuptruelang-B7Xkfily.js";import{b as ee,f as Oe,g as Re,h as Ne,i as Ve,j as st,k as at,l as lt,d as it,m as ct,n as rt,a as ut,o as dt,p as ft,q as mt,r as We,s as _t,t as ht,u as pt}from"./element-plus-BsPKl9cL.js";import{S as Z}from"./index-Tej3WPCJ.js";import{u as oe,i as Pe,a as Ce,_ as O,r as Ee,b as vt,g as gt,c as bt,d as q}from"./index-DAJGaxl8.js";import{v as Fe}from"./vue-i18n-Dt-hUQlq.js";import{d as A,k as K,r as S,o as i,O as C,P as b,W as c,c as g,F as G,aa as J,u as s,U as B,V as I,a as f,w as ne,l as be,R as H,T as P,I as wt,a2 as $t,a4 as Q,bm as Se,bk as Te,ag as se,a1 as ie,Y as Ue,S as kt,aD as xt,i as ce,G as je,K as le,f as qe,Q as we,X as $e,n as Me,j as yt}from"./@vue-Cr7qNLMI.js";import{I as ke}from"./@iconify-CPlIDRve.js";import{b as re,u as ue}from"./vue-router-CufQNpwK.js";import{l as Vt}from"./lodash-es-Blijzk1b.js";import{c as Ct}from"./path-to-regexp-mDz3xsrU.js";import{d as Ke,s as Le}from"./pinia-uj-hNnAT.js";import{_ as St}from"./caret-bottom-DnwCHXPs.js";import{p as Ge}from"./path-browserify-mKPuiFSD.js";import"./async-validator-DKvM95Vc.js";import"./dayjs-C6J0yRL_.js";import"./@intlify-CHY6szXs.js";import"./@element-plus-BRXcaAil.js";import"./@ctrl-r5W6hzzQ.js";import"./@sxzz-D9SI2xQl.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./crypto-js-CYDAzdEe.js";import"./axios-B4uVmeYG.js";import"./js-cookie-Cz0CWeBA.js";import"./nprogress-E-flP1tB.js";import"./mockjs-DOFpbtyb.js";import"./vite-plugin-mock-WFsnnzUG.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-Dml5yltN.js";const Tt=A({__name:"index",setup(t){const e=oe(),{t:l}=Fe.useI18n(),u=K(()=>r.value.map(m=>({label:m.value==="large"?l("navbar.sizeLarge"):m.value==="small"?l("navbar.sizeSmall"):l("navbar.sizeNormal"),value:m.value}))),r=S([{label:"默认",value:"default"},{label:"大型",value:"large"},{label:"小型",value:"small"}]);function a(m){e.changeSize(m),ee.success(l("navbar.sizeMsg"))}return(m,n)=>{const d=Z,v=Oe,h=Re,_=Ne;return i(),C(_,{trigger:"click",onCommand:a},{dropdown:b(()=>[c(h,null,{default:b(()=>[(i(!0),g(G,null,J(s(u),x=>(i(),C(v,{key:x.value,disabled:s(e).size==x.value,command:x.value},{default:b(()=>[B(I(x.label),1)]),_:2},1032,["disabled","command"]))),128))]),_:1})]),default:b(()=>[f("div",null,[c(d,{"icon-class":"size"})])]),_:1})}}}),Lt={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},It=f("path",{fill:"currentColor",d:"m795.904 750.72l124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704a352 352 0 0 0 0 704"},null,-1),Pt=[It];function Et(t,e){return i(),g("svg",Lt,[...Pt])}const Mt={name:"ep-search",render:Et};function X(t){return Pe.global.te("route."+t)?Pe.global.t("route."+t):t}const Bt={key:0,class:"search-list"},Ht=["onMouseenter"],At={class:"item-center"},Dt={class:"search-item-title"},zt={class:"footer"},Ot={class:"item-center"},Rt={class:"item-center"},Nt={class:"item-center"},Wt=A({__name:"NavSearch",setup(t){const e=Ce(),l=S(!1),u=S(""),r=S(-1),a=S([]),m=re(),n=Ze(h,250),d=o=>o&&o.icon&&o.icon.includes(":"),v=o=>o&&o.icon&&!d(o);function h(o){const p=o==null?void 0:o.trim().toLocaleLowerCase();if(!p){a.value=[];return}a.value=_(Vt(e.routes),p),r.value=s(a).length>0?0:-1}function _(o,p,k){const w=[];return o.forEach(y=>{var L;y&&y.meta&&JSON.stringify(y.meta)!=="{}"&&(Object.assign(y.meta,{icon:y.meta.icon?y.meta.icon:k?k.meta.icon:"",title:k?`${X(k.meta.title)} > ${X(y.meta.title)}`:X(y.meta.title)}),!y.meta.hidden&&y.meta.title.toLocaleLowerCase().includes(p)&&((L=y.children)!=null&&L.length||w.push(y)),!y.meta.hideChildren&&y.children&&w.push(..._(y.children,p,y)))}),w}function x(){s(a).length===0||s(r)<0||(l.value=!1,m.push({name:s(a)[s(r)].name}),D())}function T(o){r.value=Number(o)}function E(){a.value.length&&(r.value--,r.value<0&&(r.value=a.value.length-1))}function F(){a.value.length&&(r.value++,r.value>a.value.length-1&&(r.value=0))}function D(){u.value="",a.value=[]}return pe("Enter",x),pe("ArrowUp",E),pe("ArrowDown",F),ne(u,()=>{n(u.value)}),(o,p)=>{const k=Mt,w=Ve,y=st,L=Z,z=at,me=lt,_e=it;return i(),g(G,null,[c(w,{placement:"bottom",content:o.$t("navbar.search")},{default:b(()=>[f("div",{onClick:p[0]||(p[0]=R=>l.value=!0),class:"item-center"},[c(k)])]),_:1},8,["content"]),c(_e,{modelValue:s(l),"onUpdate:modelValue":p[2]||(p[2]=R=>be(l)?l.value=R:null),top:"10vh",title:"",class:"search-dialog","min-height":"200px",width:"750px","show-close":!1,closeOnPressEscape:"",onClosed:D},{footer:b(()=>[f("div",zt,[c(me,{size:10},{default:b(()=>[f("div",Ot,[c(L,{"icon-class":"confirm",class:"icon"}),f("span",null,I(o.$t("navbar.searchConfirm")),1)]),f("div",Rt,[c(L,{"icon-class":"up",class:"icon"}),c(L,{"icon-class":"down",class:"icon"}),f("span",null,I(o.$t("navbar.searchSwitch")),1)]),f("div",Nt,[c(L,{"icon-class":"esc",class:"icon"}),f("span",null,I(o.$t("navbar.searchClose")),1)])]),_:1})])]),default:b(()=>[c(y,{modelValue:s(u),"onUpdate:modelValue":p[1]||(p[1]=R=>be(u)?u.value=R:null),placeholder:o.$t("navbar.searchPlaceholder"),size:"large",clearable:""},{prefix:b(()=>[c(k)]),_:1},8,["modelValue","placeholder"]),s(a).length>0?(i(),g("div",Bt,[(i(!0),g(G,null,J(s(a),(R,ae)=>(i(),g("div",{class:H(["search-item item-center",{active:ae===s(r)}]),key:R.name,onClick:x,onMouseenter:Ie=>T(ae)},[f("div",At,[d(R.meta)?(i(),C(s(ke),{key:0,icon:R.meta.icon,style:{"font-size":"20px"}},null,8,["icon"])):P("",!0),v(R.meta)?(i(),C(L,{key:1,"icon-class":R.meta.icon},null,8,["icon-class"])):P("",!0),f("span",Dt,I(R.meta.title),1)]),c(L,{"icon-class":"confirm"})],42,Ht))),128))])):(i(),C(z,{key:1,description:o.$t("navbar.searchEmpty"),"image-size":64},null,8,["description"]))]),_:1},8,["modelValue"])],64)}}}),Ft=O(Wt,[["__scopeId","data-v-89df27df"]]),Ut={key:0,class:"text-[var(--el-disabled-text-color)]"},jt=["onClick"],qt=A({__name:"index",setup(t){const e=ue(),l=n=>{const{params:d}=e;return Ct(n)(d)},u=S([]);function r(){let n=e.matched.filter(v=>v.meta&&v.meta.title);const d=n[0];a(d)||(n=[{path:"/dashboard",meta:{title:"dashboard"}}].concat(n)),u.value=n.filter(v=>v.meta&&v.meta.title&&v.meta.breadcrumb!==!1)}function a(n){const d=n&&n.name;return d?d.toString().trim().toLocaleLowerCase()==="Dashboard".toLocaleLowerCase():!1}function m(n){const{redirect:d,path:v}=n;if(d){Ee.push(d).catch(h=>{console.warn(h)});return}Ee.push(l(v)).catch(h=>{console.warn(h)})}return ne(()=>e.path,n=>{n.startsWith("/redirect/")||r()}),wt(()=>{r()}),(n,d)=>{const v=ct,h=rt;return i(),C(h,{class:"h-[50px] flex items-center"},{default:b(()=>[c($t,{name:"breadcrumb"},{default:b(()=>[(i(!0),g(G,null,J(u.value,(_,x)=>(i(),C(v,{key:_.path},{default:b(()=>[_.redirect==="noredirect"||x===u.value.length-1?(i(),g("span",Ut,I(s(X)(_.meta.title)),1)):(i(),g("a",{key:1,onClick:Q(T=>m(_),["prevent"])},I(s(X)(_.meta.title)),9,jt))]),_:2},1024))),128))]),_:1})]),_:1})}}}),Kt=O(qt,[["__scopeId","data-v-b88176e2"]]),Gt=t=>(Se("data-v-3415bc80"),t=t(),Te(),t),Yt=Gt(()=>f("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"},null,-1)),Xt=[Yt],Jt=A({__name:"index",props:{isActive:{required:!0,type:Boolean,default:!1}},emits:["toggleClick"],setup(t,{emit:e}){const l=ye(),u=e;function r(){u("toggleClick")}return(a,m)=>(i(),g("div",{class:H(["hamburger-container",{dark:s(l)}]),onClick:r},[(i(),g("svg",{class:H([{"is-active":t.isActive},"hamburger"]),viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",style:{color:"#fff !important"}},Xt,2))],2))}}),Qt=O(Jt,[["__scopeId","data-v-3415bc80"]]),de=Ke("tagsView",()=>{const t=S([]),e=S([]);function l(o){var p,k;t.value.some(w=>w.path===o.path)||(o.meta&&o.meta.affix?t.value.unshift(Object.assign({},o,{title:((p=o.meta)==null?void 0:p.title)||"no-name"})):t.value.push(Object.assign({},o,{title:((k=o.meta)==null?void 0:k.title)||"no-name"})))}function u(o){var k;const p=o.name;e.value.includes(p)||(k=o.meta)!=null&&k.keepAlive&&e.value.push(p)}function r(o){return new Promise(p=>{for(const[k,w]of t.value.entries())if(w.path===o.path){t.value.splice(k,1);break}p([...t.value])})}function a(o){const p=o.name;return new Promise(k=>{const w=e.value.indexOf(p);w>-1&&e.value.splice(w,1),k([...e.value])})}function m(o){return new Promise(p=>{t.value=t.value.filter(k=>{var w;return((w=k.meta)==null?void 0:w.affix)||k.path===o.path}),p([...t.value])})}function n(o){const p=o.name;return new Promise(k=>{const w=e.value.indexOf(p);w>-1?e.value=e.value.slice(w,w+1):e.value=[],k([...e.value])})}function d(o){for(let p of t.value)if(p.path===o.path){p=Object.assign(p,o);break}}function v(o){l(o),u(o)}function h(o){return new Promise(p=>{r(o),a(o),p({visitedViews:[...t.value],cachedViews:[...e.value]})})}function _(o){return new Promise(p=>{m(o),n(o),p({visitedViews:[...t.value],cachedViews:[...e.value]})})}function x(o){return new Promise(p=>{const k=t.value.findIndex(w=>w.path===o.path);k!==-1&&(t.value=t.value.filter((w,y)=>{if(y>=k||w.meta&&w.meta.affix)return!0;const L=e.value.indexOf(w.name);return L>-1&&e.value.splice(L,1),!1}),p({visitedViews:[...t.value]}))})}function T(o){return new Promise(p=>{const k=t.value.findIndex(w=>w.path===o.path);k!==-1&&(t.value=t.value.filter((w,y)=>{if(y<=k||w.meta&&w.meta.affix)return!0;const L=e.value.indexOf(w.name);return L>-1&&e.value.splice(L,1),!1}),p({visitedViews:[...t.value]}))})}function E(){return new Promise(o=>{const p=t.value.filter(k=>{var w;return(w=k.meta)==null?void 0:w.affix});t.value=p,e.value=[],o({visitedViews:[...t.value],cachedViews:[...e.value]})})}function F(){return new Promise(o=>{const p=t.value.filter(k=>{var w;return(w=k.meta)==null?void 0:w.affix});t.value=p,o([...t.value])})}function D(){return new Promise(o=>{e.value=[],o([...e.value])})}return{visitedViews:t,cachedViews:e,addVisitedView:l,addCachedView:u,delVisitedView:r,delCachedView:a,delOtherVisitedViews:m,delOtherCachedViews:n,updateVisitedView:d,addView:v,delView:h,delOtherViews:_,delLeftViews:x,delRightViews:T,delAllViews:E,delAllVisitedViews:F,delAllCachedViews:D}}),Zt={class:"app-container"},en={class:"avatar-container"},tn=["src"],nn={key:0,class:"user-name"},on=["href"],sn=["href"],an=A({__name:"UserInfo",props:{hasTopHeader:{required:!1,type:Boolean,default:!1}},setup(t){const{t:e}=Fe.useI18n(),l=de(),u=vt(),r=ue(),a=re();function m(){ut.confirm(e("logout.message"),e("logout.title"),{confirmButtonText:e("logout.confirmButtonText"),cancelButtonText:e("logout.cancelButtonText"),type:"warning"}).then(()=>{u.logout().then(()=>{l.delAllViews()}).then(()=>{a.push(`/login?redirect=${r.fullPath}`)})})}return(n,d)=>{const v=St,h=Oe,_=se("router-link"),x=Re,T=Ne;return i(),g("div",Zt,[c(T,{trigger:"click"},{dropdown:b(()=>[c(x,null,{default:b(()=>[c(_,{to:"/"},{default:b(()=>[c(h,null,{default:b(()=>[B(I(n.$t("navbar.dashboard")),1)]),_:1})]),_:1}),f("a",{target:"_blank",href:s(gt)},[c(h,null,{default:b(()=>[B("Github")]),_:1})],8,on),f("a",{target:"_blank",href:s(bt)},[c(h,null,{default:b(()=>[B(I(n.$t("navbar.document")),1)]),_:1})],8,sn),c(h,{divided:"",onClick:m},{default:b(()=>[B(I(n.$t("navbar.logout")),1)]),_:1})]),_:1})]),default:b(()=>[f("div",en,[f("img",{class:"user-avatar",src:s(u).avatar+"?imageView2/1/w/80/h/80"},null,8,tn),t.hasTopHeader?(i(),g("div",nn,I(s(u).nickname),1)):P("",!0),c(v,{style:ie({color:t.hasTopHeader?"white":"black"})},null,8,["style"])])]),_:1})])}}}),Ye=O(an,[["__scopeId","data-v-6c90ef02"]]),ln={class:"navbar"},cn={class:"flex"},rn={class:"flex"},un={key:0,class:"setting-container"},dn={class:"setting-item item-center"},fn=A({__name:"Navbar",setup(t){const e=oe(),{device:l}=Le(e);function u(){e.toggleSidebar(!0)}const{isFullscreen:r,toggle:a}=et();return(m,n)=>{const d=Qt,v=Kt,h=Ft,_=Z,x=Ve,T=Tt,E=ot;return i(),g("div",ln,[f("div",cn,[c(d,{"is-active":s(e).sidebar.opened,onToggleClick:u},null,8,["is-active"]),c(v)]),f("div",rn,[s(l)!=="mobile"?(i(),g("div",un,[f("div",dn,[c(h)]),c(x,{content:m.$t(s(r)?"navbar.exitFull":"navbar.entryFull"),effect:"dark",placement:"bottom"},{default:b(()=>[f("div",{class:"setting-item",onClick:n[0]||(n[0]=(...F)=>s(a)&&s(a)(...F))},[c(_,{"icon-class":s(r)?"exit-fullscreen":"fullscreen"},null,8,["icon-class"])])]),_:1},8,["content"]),c(x,{content:m.$t("navbar.layoutSize"),effect:"dark",placement:"bottom"},{default:b(()=>[c(T,{class:"setting-item"})]),_:1},8,["content"]),c(E,{class:"setting-item"})])):P("",!0),c(Ye)])])}}}),Be=O(fn,[["__scopeId","data-v-249f0e9e"]]),mn={class:"app-main"},_n=A({__name:"AppMain",setup(t){const e=de();return(l,u)=>{const r=se("router-view");return i(),g("section",mn,[c(r,null,{default:b(({Component:a,route:m})=>[c(Ue,{name:"router-fade",mode:"out-in"},{default:b(()=>[(i(),C(xt,{include:s(e).cachedViews},[(i(),C(kt(a),{key:m.fullPath}))],1032,["include"]))]),_:2},1024)]),_:1})])}}}),He=O(_n,[["__scopeId","data-v-14e054ed"]]),hn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},pn=f("path",{fill:"currentColor",d:"M406.656 706.944L195.84 496.256a32 32 0 1 0-45.248 45.248l256 256l512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),vn=[pn];function gn(t,e){return i(),g("svg",hn,[...vn])}const bn={name:"ep-check",render:gn},fe=Ke("setting",()=>{const t=ve("tagsView",q.tagsView),e=S(q.showSettings),l=S(q.fixedHeader),u=S(q.sidebarLogo),r=S(q.topHeader),a=ve("themeColor",q.themeColor),m=ve("layout",q.layout);function n(d){const{key:v,value:h}=d;switch(v){case"showSettings":e.value=h;break;case"fixedHeader":l.value=h;break;case"tagsView":t.value=h;break;case"sidevarLogo":u.value=h;break;case"themeColor":a.value=h;break;case"layout":m.value=h;break}}return{showSettings:e,tagsView:t,fixedHeader:l,sidebarLogo:u,topHeader:r,themeColor:a,layout:m,changeSetting:n}});function te(){return{hexToRgb:r=>{let a="";if(!/^\#?[0-9A-Fa-f]{6}$/.test(r))return ee.warning("输入错误的hex"),"";r=r.replace("#",""),a=r.match(/../g);for(let n=0;n<3;n++)a[n]=parseInt(a[n],16);return a},rgbToHex:(r,a,m)=>{let n=/^\d{1,3}$/;if(!n.test(r)||!n.test(a)||!n.test(m))return ee.warning("输入错误的rgb颜色值"),"";let d=[r.toString(16),a.toString(16),m.toString(16)];for(let v=0;v<3;v++)d[v].length==1&&(d[v]=`0${d[v]}`);return`#${d.join("")}`},getDarkColor:(r,a)=>{if(!/^\#?[0-9A-Fa-f]{6}$/.test(r))return ee.warning("输入错误的hex颜色值"),"";let n=te().hexToRgb(r);for(let d=0;d<3;d++)n[d]=Math.floor(n[d]*(1-a));return te().rgbToHex(n[0],n[1],n[2])},getLightColor:(r,a)=>{if(!/^\#?[0-9A-Fa-f]{6}$/.test(r))return ee.warning("输入错误的hex颜色值"),"";let n=te().hexToRgb(r);for(let d=0;d<3;d++)n[d]=Math.floor((255-n[d])*a+n[d]);return te().rgbToHex(n[0],n[1],n[2])}}}const wn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},$n=f("path",{fill:"currentColor",d:"M512 704a192 192 0 1 0 0-384a192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512a256 256 0 0 1 0 512m0-704a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 768a32 32 0 0 1 32 32v64a32 32 0 1 1-64 0v-64a32 32 0 0 1 32-32M195.2 195.2a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 1 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248m543.104 543.104a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 0 1-45.248 45.248l-45.248-45.248a32 32 0 0 1 0-45.248M64 512a32 32 0 0 1 32-32h64a32 32 0 0 1 0 64H96a32 32 0 0 1-32-32m768 0a32 32 0 0 1 32-32h64a32 32 0 1 1 0 64h-64a32 32 0 0 1-32-32M195.2 828.8a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248L240.448 828.8a32 32 0 0 1-45.248 0m543.104-543.104a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248l-45.248 45.248a32 32 0 0 1-45.248 0"},null,-1),kn=[$n];function xn(t,e){return i(),g("svg",wn,[...kn])}const yn={name:"ep-sunny",render:xn},Vn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Cn=f("path",{fill:"currentColor",d:"M240.448 240.448a384 384 0 1 0 559.424 525.696a448 448 0 0 1-542.016-542.08a391 391 0 0 0-17.408 16.384m181.056 362.048a384 384 0 0 0 525.632 16.384A448 448 0 1 1 405.056 76.8a384 384 0 0 0 16.448 525.696"},null,-1),Sn=[Cn];function Tn(t,e){return i(),g("svg",Vn,[...Sn])}const Ln={name:"ep-moon",render:Tn},j=t=>(Se("data-v-379826c9"),t=t(),Te(),t),In={class:"drawer-container"},Pn=j(()=>f("h3",{class:"drawer-title"},"项目配置",-1)),En={class:"drawer-item"},Mn=j(()=>f("span",{class:"text"},"开启 Tags-View",-1)),Bn={class:"drawer-item"},Hn=j(()=>f("span",{class:"text"},"固定 Header",-1)),An={class:"drawer-item"},Dn=j(()=>f("span",{class:"text"},"侧边栏 Logo",-1)),zn={class:"drawer-item"},On=j(()=>f("span",{class:"text"},"开启 Top-Header",-1)),Rn={class:"drawer-theme"},Nn=["onClick"],Wn={class:"layout"},Fn=j(()=>f("div",null,null,-1)),Un=j(()=>f("div",null,null,-1)),jn=[Fn,Un],qn=j(()=>f("div",null,null,-1)),Kn=j(()=>f("div",null,null,-1)),Gn=[qn,Kn],Yn=j(()=>f("div",null,null,-1)),Xn=j(()=>f("div",null,null,-1)),Jn=[Yn,Xn],Qn=A({__name:"index",setup(t){const e=fe(),l=ye(),u=()=>tt(l),{getLightColor:r,getDarkColor:a}=te();function m(h){e.changeSetting({key:"layout",value:h}),window.document.body.setAttribute("layout",e.layout)}const n=S(["#409EFF","#304156","#11a983","#13c2c2","#6959CD","#f5222d"]);function d(h){document.documentElement.style.setProperty("--el-color-primary",h),document.documentElement.style.setProperty("--el-color-primary-dark-2",`${a(h,.1)}`);for(let _=1;_<=9;_++)document.documentElement.style.setProperty(`--el-color-primary-light-${_}`,`${r(h,_/10)}`);e.changeSetting({key:"themeColor",value:h})}ce(()=>{d(e.themeColor),window.document.body.setAttribute("layout",e.layout)});const v=h=>{const _=e.themeColor;return h===_?"#fff":"transparent"};return(h,_)=>{const x=dt,T=ft,E=bn,F=mt,D=Ve;return i(),g("div",In,[Pn,c(x,null,{default:b(()=>[B("主题")]),_:1}),f("div",{class:"drawer-switch",onClick:_[1]||(_[1]=Q(()=>{},["stop"]))},[c(T,{modelValue:s(l),"onUpdate:modelValue":_[0]||(_[0]=o=>be(l)?l.value=o:null),"inline-prompt":"","active-icon":s(Ln),"inactive-icon":s(yn),"active-color":"var(--el-fill-color-dark)","inactive-color":"var(--el-color-primary)",onChange:u},null,8,["modelValue","active-icon","inactive-icon"])]),c(x,null,{default:b(()=>[B("界面设置")]),_:1}),f("div",En,[Mn,c(T,{modelValue:s(e).tagsView,"onUpdate:modelValue":_[2]||(_[2]=o=>s(e).tagsView=o)},null,8,["modelValue"])]),f("div",Bn,[Hn,c(T,{modelValue:s(e).fixedHeader,"onUpdate:modelValue":_[3]||(_[3]=o=>s(e).fixedHeader=o)},null,8,["modelValue"])]),f("div",An,[Dn,c(T,{modelValue:s(e).sidebarLogo,"onUpdate:modelValue":_[4]||(_[4]=o=>s(e).sidebarLogo=o)},null,8,["modelValue"])]),f("div",zn,[On,c(T,{modelValue:s(e).topHeader,"onUpdate:modelValue":_[5]||(_[5]=o=>s(e).topHeader=o)},null,8,["modelValue"])]),c(x,null,{default:b(()=>[B("主题颜色")]),_:1}),f("ul",Rn,[(i(!0),g(G,null,J(s(n),(o,p)=>(i(),g("li",{key:p,class:"drawer-theme-item",style:ie({background:o}),onClick:k=>d(o)},[c(F,{size:17,color:v(o),class:"check-icon"},{default:b(()=>[c(E)]),_:2},1032,["color"])],12,Nn))),128))]),c(x,null,{default:b(()=>[B("导航设置")]),_:1}),f("ul",Wn,[c(D,{content:"左侧模式",placement:"bottom"},{default:b(()=>[f("li",{class:H("layout-item layout-left "+(s(e).layout=="left"?"is-active":"")),onClick:_[6]||(_[6]=o=>m("left"))},jn,2)]),_:1}),c(D,{content:"顶部模式",placement:"bottom"},{default:b(()=>[f("li",{class:H("layout-item layout-top "+(s(e).layout=="top"?"is-active":"")),onClick:_[7]||(_[7]=o=>m("top"))},Gn,2)]),_:1}),c(D,{content:"混合模式",placement:"bottom"},{default:b(()=>[f("li",{class:H("layout-item layout-mix "+(s(e).layout=="mix"?"is-active":"")),onClick:_[8]||(_[8]=o=>m("mix"))},Jn,2)]),_:1})])])}}}),Zn=O(Qn,[["__scopeId","data-v-379826c9"]]),eo={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},to=f("path",{fill:"currentColor",d:"M764.288 214.592L512 466.88L259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512L214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),no=[to];function oo(t,e){return i(),g("svg",eo,[...no])}const Xe={name:"ep-close",render:oo},so=A({__name:"ScrollPane",emits:["scroll"],setup(t,{expose:e,emit:l}){const u=S(4),{proxy:r}=qe(),a=l,m=()=>{a("scroll")},n=de(),d=K(()=>r==null?void 0:r.$refs.scrollContainer.$refs.wrapRef);ce(()=>{d.value.addEventListener("scroll",m,!0)}),je(()=>{d.value.removeEventListener("scroll",m)});function v(_){const x=_.wheelDelta||-_.deltaY*40;d.value.scrollLeft=d.value.scrollLeft+x/4}function h(_){const T=r.$refs.scrollContainer.$el.offsetWidth,E=d.value;let F=null,D=null;if(n.visitedViews.length>0&&(F=n.visitedViews[0],D=n.visitedViews[n.visitedViews.length-1]),F===_)E.scrollLeft=0;else if(D===_)E.scrollLeft=E.scrollWidth-T;else{const o=document.getElementsByClassName("tags-item"),p=n.visitedViews.findIndex(z=>z===_);let k=null,w=null;for(const z in o)z!=="length"&&Object.hasOwnProperty.call(o,z)&&(o[z].dataset.path===n.visitedViews[p-1].path&&(k=o[z]),o[z].dataset.path===n.visitedViews[p+1].path&&(w=o[z]));const y=w.offsetLeft+w.offsetWidth+u.value,L=k.offsetLeft-u.value;y>E.scrollLeft+T?E.scrollLeft=y-T:L<E.scrollLeft&&(E.scrollLeft=L)}}return e({moveToTarget:h}),(_,x)=>{const T=We;return i(),C(T,{ref:"scrollContainer",class:"scroll-container",vertical:!1,onWheel:Q(v,["prevent"])},{default:b(()=>[le(_.$slots,"default",{},void 0,!0)]),_:3},512)}}}),ao=O(so,[["__scopeId","data-v-69cdbe12"]]),lo={class:"tags-container"},io=["onClick"],co=A({__name:"index",setup(t){const{proxy:e}=qe(),l=re(),u=ue(),r=Ce(),a=de(),{visitedViews:m}=Le(a),n=S({}),d=S(),v=S(0),h=S(0),_=S([]);ne(u,()=>{F(),D()},{immediate:!0});const x=S(!1);ne(x,$=>{$?document.body.addEventListener("click",he):document.body.removeEventListener("click",he)});function T($,V="/"){let N=[];return $.forEach(U=>{if(U.meta&&U.meta.affix){const W=Ge.resolve(V,U.path);N.push({fullPath:W,path:W,name:U.name,meta:{...U.meta}})}if(U.children){const W=T(U.children,U.path);W.length>=1&&(N=N.concat(W))}}),N}function E(){const $=T(r.routes);_.value=$;for(const V of $)V.name&&a.addVisitedView(V)}function F(){u.name&&a.addView(u)}function D(){Me(()=>{for(const $ of a.visitedViews)$.path===u.path&&(d.value.moveToTarget($),$.fullPath!==u.fullPath&&a.updateVisitedView(u))})}function o($){return $.path===u.path}function p($){return $.meta&&$.meta.affix}function k(){try{return n.value.fullPath===a.visitedViews[1].fullPath||n.value.fullPath==="/index"}catch{return!1}}function w(){try{return n.value.fullPath===a.visitedViews[a.visitedViews.length-1].fullPath}catch{return!1}}function y($){a.delCachedView($);const{fullPath:V}=$;Me(()=>{l.replace({path:"/redirect"+V}).catch(N=>{console.warn(N)})})}function L($,V){const N=$.slice(-1)[0];N&&N.fullPath?l.push(N.fullPath):V.name==="Dashboard"?l.replace({path:"/redirect"+V.fullPath}):l.push("/")}function z($){a.delView($).then(V=>{o($)&&L(V.visitedViews,$)})}function me(){a.delLeftViews(n.value).then($=>{$.visitedViews.find(V=>V.fullPath===u.fullPath)||L($.visitedViews)})}function _e(){a.delRightViews(n.value).then($=>{$.visitedViews.find(V=>V.fullPath===u.fullPath)||L($.visitedViews)})}function R(){l.push(n.value),a.delOtherViews(n.value).then(()=>{D()})}function ae($){a.delAllViews().then(V=>{L(V.visitedViews,$)})}function Ie($,V){const U=e==null?void 0:e.$el.getBoundingClientRect().left,M=(e==null?void 0:e.$el.offsetWidth)-105,Y=V.clientX-U+15;Y>M?v.value=M:v.value=Y,h.value=V.clientY,x.value=!0,n.value=$}function he(){x.value=!1}function Qe(){he()}return ce(()=>{E()}),($,V)=>{const N=Xe,U=se("router-link"),W=Z;return i(),g("div",lo,[c(ao,{ref_key:"scrollPaneRef",ref:d,onScroll:Qe},{default:b(()=>[(i(!0),g(G,null,J(s(m),M=>(i(),C(U,{key:M.path,class:H("tags-item "+(o(M)?"active":"")),"data-path":M.path,to:{path:M.path,query:M.query},onMouseup:Q(Y=>p(M)?"":z(M),["middle"]),onContextmenu:Q(Y=>Ie(M,Y),["prevent"])},{default:b(()=>{var Y;return[B(I(s(X)((Y=M.meta)==null?void 0:Y.title))+" ",1),p(M)?P("",!0):(i(),g("span",{key:0,class:"tags-item-close",onClick:Q(Uo=>z(M),["prevent","stop"])},[c(N,{style:{"font-size":"12px"}})],8,io))]}),_:2},1032,["class","data-path","to","onMouseup","onContextmenu"]))),128))]),_:1},512),we(f("ul",{class:"tag-menu",style:ie({left:v.value+"px",top:h.value+"px"})},[f("li",{onClick:V[0]||(V[0]=M=>y(n.value))},[c(W,{"icon-class":"refresh"}),B(" "+I($.$t("tagsView.refresh")),1)]),p(n.value)?P("",!0):(i(),g("li",{key:0,onClick:V[1]||(V[1]=M=>z(n.value))},[c(W,{"icon-class":"close"}),B(" "+I($.$t("tagsView.close")),1)])),f("li",{onClick:R},[c(W,{"icon-class":"close_other"}),B(" "+I($.$t("tagsView.closeOthers")),1)]),k()?P("",!0):(i(),g("li",{key:1,onClick:me},[c(W,{"icon-class":"close_left"}),B(" "+I($.$t("tagsView.closeLeft")),1)])),w()?P("",!0):(i(),g("li",{key:2,onClick:_e},[c(W,{"icon-class":"close_right"}),B(" "+I($.$t("tagsView.closeRight")),1)])),f("li",{onClick:V[2]||(V[2]=M=>ae(n.value))},[c(W,{"icon-class":"close_all"}),B(" "+I($.$t("tagsView.closeAll")),1)])],4),[[$e,x.value]])])}}}),Ae=O(co,[["__scopeId","data-v-cb2d45c9"]]),ro={class:"top-header bgImage"},uo={class:"header"},fo={class:"left"},mo={class:"right"},_o=A({__name:"TopHeader",setup(t){const e=S("Vue3在线管理系统");return(l,u)=>(i(),g("div",ro,[f("div",uo,[f("div",fo,I(s(e)),1),f("div",mo,[c(Ye,{hasTopHeader:""})])])]))}}),ho=O(_o,[["__scopeId","data-v-1010086c"]]);function Je(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function po(t,e){Je(t,e)||(t.className+=" "+e)}function vo(t,e){if(Je(t,e)){const l=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(l," ")}}function xe(t){return/^(https?:|http?:|mailto:|tel:)/.test(t)}const go=["href"],bo=A({__name:"Link",props:{to:{type:String,required:!0}},setup(t){const e=oe(),l=K(()=>e.sidebar),u=K(()=>e.device),r=t,a=re();function m(){u.value==="mobile"&&l.value.opened==!0&&e.closeSideBar(!1),a.push(r.to).catch(n=>{console.error(n)})}return(n,d)=>s(xe)(t.to)?(i(),g("a",{key:0,href:t.to,target:"_blank",rel:"noopener"},[le(n.$slots,"default")],8,go)):(i(),g("div",{key:1,onClick:m},[le(n.$slots,"default")]))}}),wo={key:0},$o={key:2},ko=A({__name:"SidebarItem",props:{item:{type:Object,required:!0},basePath:{type:String,required:!0},isCollapse:{type:Boolean,default:!1}},setup(t){const e=t,l=S(),u=n=>n&&n.icon&&n.icon.includes(":"),r=n=>n&&n.icon&&!u(n);function a(n=[],d){const v=n.filter(h=>{var _;return(_=h.meta)!=null&&_.hidden?!1:(l.value=h,!0)});return v.length===1?!0:v.length===0?(l.value={...d,path:"",noShowingChildren:!0},!0):!1}function m(n){return xe(n)?n:xe(e.basePath)?e.basePath:Ge.resolve(e.basePath,n)}return(n,d)=>{const v=_t,h=se("sidebar-item",!0),_=ht;return!t.item.meta||!t.item.meta.hidden?(i(),g("div",wo,[a(t.item.children,t.item)&&(!s(l).children||s(l).noShowingChildren)?(i(),g(G,{key:0},[s(l).meta?(i(),C(bo,{key:0,to:m(s(l).path)},{default:b(()=>[c(v,{index:m(s(l).path),class:H({"menu-item-custom":t.isCollapse})},{title:b(()=>[B(I(s(X)(s(l).meta.title)),1)]),default:b(()=>[u(s(l).meta)?(i(),C(s(ke),{key:0,icon:s(l).meta.icon,class:"svg-icon"},null,8,["icon"])):P("",!0),r(s(l).meta)?(i(),C(Z,{key:1,"icon-class":s(l).meta.icon},null,8,["icon-class"])):P("",!0)]),_:1},8,["index","class"])]),_:1},8,["to"])):P("",!0)],64)):(i(),C(_,{key:1,index:m(t.item.path),teleported:""},{title:b(()=>[u(t.item.meta)?(i(),C(s(ke),{key:0,icon:t.item.meta.icon,class:"svg-icon"},null,8,["icon"])):P("",!0),r(t.item.meta)?(i(),C(Z,{key:1,"icon-class":t.item.meta.icon},null,8,["icon-class"])):P("",!0),t.item.meta&&t.item.meta.title?(i(),g("span",$o,I(s(X)(t.item.meta.title)),1)):P("",!0)]),default:b(()=>[(i(!0),g(G,null,J(t.item.children,x=>(i(),C(h,{key:x.path,item:x,"base-path":m(x.path)},null,8,["item","base-path"]))),128))]),_:1},8,["index"]))])):P("",!0)}}}),xo=O(ko,[["__scopeId","data-v-7bd1b2a5"]]),yo={key:1,class:"sidebar-title"},Vo={class:"sidebar-title"},De="https://wpimg.wallstcn.com/69a1c46c-eb1c-4b46-8bd4-e9e686ef5251.png",Co=A({__name:"Logo",props:{collapse:{type:Boolean,required:!0}},setup(t){const e=fe(),l=ye();return(u,r)=>{const a=se("router-link");return i(),g("div",{class:H(["sidebar-logo-container",{collapse:t.collapse,"dark-bg":s(l)}])},[c(Ue,{name:"sidebarLogoFade"},{default:b(()=>[t.collapse?(i(),C(a,{key:"collapse",class:"sidebar-logo-link",to:"/"},{default:b(()=>[s(e).sidebarLogo?(i(),g("img",{key:0,src:De,class:"sidebar-logo"})):(i(),g("h1",yo,I(s(q).title),1))]),_:1})):(i(),C(a,{key:"expand",class:"sidebar-logo-link",to:"/"},{default:b(()=>[s(e).sidebarLogo?(i(),g("img",{key:0,src:De,class:"sidebar-logo"})):P("",!0),f("h1",Vo,I(s(q).title),1)]),_:1}))]),_:1})],2)}}}),So=O(Co,[["__scopeId","data-v-0b384a40"]]),To="var(--menuBg)",Lo="var(--menuText)",Io="var(--menuActiveText)",ge={menuBg:To,menuText:Lo,menuActiveText:Io},ze=A({__name:"index",setup(t){const e=fe(),l=Ce(),u=oe(),r=ue(),{sidebarLogo:a}=Le(e);return(m,n)=>{const d=pt,v=We;return i(),g("div",{class:H({"has-logo":s(a)})},[s(a)?(i(),C(So,{key:0,collapse:!s(u).sidebar.opened},null,8,["collapse"])):P("",!0),c(v,null,{default:b(()=>[c(d,{"default-active":s(r).path,collapse:!s(u).sidebar.opened,"background-color":s(ge).menuBg,"text-color":s(ge).menuText,"active-text-color":s(ge).menuActiveText,"unique-opened":!1,"collapse-transition":!1,mode:"vertical"},{default:b(()=>[(i(!0),g(G,null,J(s(l).routes,h=>(i(),C(xo,{key:h.path,item:h,"base-path":h.path,"is-collapse":!s(u).sidebar.opened},null,8,["item","base-path","is-collapse"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color"])]),_:1})],2)}}}),Po={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Eo=f("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357 357 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a352 352 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357 357 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088l-24.512 11.968a294 294 0 0 0-34.816 20.096l-22.656 15.36l-116.224-25.088l-65.28 113.152l79.68 88.192l-1.92 27.136a293 293 0 0 0 0 40.192l1.92 27.136l-79.808 88.192l65.344 113.152l116.224-25.024l22.656 15.296a294 294 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152l24.448-11.904a288 288 0 0 0 34.752-20.096l22.592-15.296l116.288 25.024l65.28-113.152l-79.744-88.192l1.92-27.136a293 293 0 0 0 0-40.256l-1.92-27.136l79.808-88.128l-65.344-113.152l-116.288 24.96l-22.592-15.232a288 288 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384a192 192 0 0 1 0-384m0 64a128 128 0 1 0 0 256a128 128 0 0 0 0-256"},null,-1),Mo=[Eo];function Bo(t,e){return i(),g("svg",Po,[...Mo])}const Ho={name:"ep-setting",render:Bo},Ao=t=>(Se("data-v-cb8c5906"),t=t(),Te(),t),Do=Ao(()=>f("div",{class:"right-panel-overlay"},null,-1)),zo={class:"right-panel-container"},Oo=A({__name:"index",props:{buttonTop:{default:300,type:Number}},setup(t){const e=S(!1);ne(e,m=>{m&&l(),m?po(document.body,"showRightPanel"):vo(document.body,"showRightPanel")});function l(){window.addEventListener("click",u,{passive:!0})}function u(m){m.target.closest(".right-panel-container")||(e.value=!1,window.removeEventListener("click",u))}const r=S();function a(){const m=document.querySelector("body");m.insertBefore(r.value,m.firstChild)}return ce(()=>{a()}),je(()=>{r.value.remove()}),(m,n)=>{const d=Xe,v=Ho;return i(),g("div",{ref_key:"rightPanel",ref:r,class:H({show:e.value})},[Do,f("div",zo,[f("div",{class:"right-panel-btn",style:ie({top:t.buttonTop+"px"}),onClick:n[0]||(n[0]=h=>e.value=!e.value)},[we(c(d,null,null,512),[[$e,e.value]]),we(c(v,null,null,512),[[$e,!e.value]])],4),f("div",null,[le(m.$slots,"default",{},void 0,!0)])])],2)}}}),Ro=O(Oo,[["__scopeId","data-v-cb8c5906"]]),No={key:1},Wo=992,Fo=A({__name:"index",setup(t){const{width:e}=nt(),l=oe(),u=fe(),r=K(()=>u.fixedHeader),a=K(()=>u.tagsView),m=K(()=>u.showSettings),n=K(()=>u.topHeader),d=K(()=>({hideSidebar:!l.sidebar.opened,openSidebar:l.sidebar.opened,withoutAnimation:l.sidebar.withoutAnimation,mobile:l.device==="mobile"}));yt(()=>{e.value<Wo?(l.toggleDevice("mobile"),l.closeSideBar(!0)):(l.toggleDevice("desktop"),e.value>=1200?l.openSideBar(!0):l.closeSideBar(!0))});function v(){l.closeSideBar(!1)}return(h,_)=>(i(),g("div",{class:H([d.value,"app-wrapper"])},[d.value.mobile&&d.value.openSidebar?(i(),g("div",{key:0,class:"drawer-bg",onClick:v})):P("",!0),n.value?P("",!0):(i(),g("div",No,[c(ze,{class:"sidebar-container"}),f("div",{class:H([{hasTagsView:a.value},"main-container"])},[f("div",{class:H({"fixed-header":r.value})},[c(s(Be)),a.value?(i(),C(s(Ae),{key:0})):P("",!0)],2),c(s(He))],2)])),n.value?(i(),g("div",{key:2,class:H({hasTopHeader:n.value})},[c(ze,{class:"sidebar-container",style:{top:"60px"}}),c(s(ho)),f("div",{class:H([{hasTagsView:a.value},"main-container"])},[f("div",{class:H({"fixed-top-header":r.value})},[c(s(Be)),a.value?(i(),C(s(Ae),{key:0})):P("",!0)],2),c(s(He))],2)],2)):P("",!0),m.value?(i(),C(Ro,{key:3},{default:b(()=>[c(s(Zn))]),_:1})):P("",!0)],2))}}),ws=O(Fo,[["__scopeId","data-v-7bb2257a"]]);export{ws as default};
